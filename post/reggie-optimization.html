<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§ | èœ¡ç¬”æ¢¦å·¥å‚</title><meta name="author" content="Lorinda"><meta name="copyright" content="Lorinda"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="è¯¦è§£ç‘å‰å¤–å–ä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŒ…æ‹¬Redisç¼“å­˜åº”ç”¨ã€æ•°æ®åº“è¯»å†™åˆ†ç¦»ã€ç³»ç»Ÿæ¶æ„å‡çº§ç­‰æ€§èƒ½æå‡æ‰‹æ®µã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§">
<meta property="og:url" content="http://labi.com/post/reggie-optimization.html">
<meta property="og:site_name" content="èœ¡ç¬”æ¢¦å·¥å‚">
<meta property="og:description" content="è¯¦è§£ç‘å‰å¤–å–ä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŒ…æ‹¬Redisç¼“å­˜åº”ç”¨ã€æ•°æ®åº“è¯»å†™åˆ†ç¦»ã€ç³»ç»Ÿæ¶æ„å‡çº§ç­‰æ€§èƒ½æå‡æ‰‹æ®µã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png">
<meta property="article:published_time" content="2025-09-02T02:03:00.000Z">
<meta property="article:modified_time" content="2025-09-02T12:41:15.351Z">
<meta property="article:author" content="Lorinda">
<meta property="article:tag" content="æ€§èƒ½ä¼˜åŒ–">
<meta property="article:tag" content="Redisç¼“å­˜">
<meta property="article:tag" content="è¯»å†™åˆ†ç¦»">
<meta property="article:tag" content="æ¶æ„è®¾è®¡">
<meta property="article:tag" content="ç³»ç»Ÿè°ƒä¼˜">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png"><link rel="shortcut icon" href="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155552.png"><link rel="canonical" href="http://labi.com/post/reggie-optimization.html"><link rel="preconnect" href="//cdnjs.cloudflare.com"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bf06f078fafddfd82b474ce179303666";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":{"enable":true},"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdnjs.cloudflare.com/ajax/libs/egjs-infinitegrid/4.12.0/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><link rel="stylesheet" href="/css/wave.css"><link rel="stylesheet" href="/css/readPercent.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2264842_b004iy0kk2b.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/loading.css"><link rel="stylesheet" href="/css/about.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/ethan4116-blog/lib/css/plane_v2.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><span id="fps"></span><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160015.png"/><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><div id="web_bg" style="background-image: url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/af380cb8a5ed3f047e66dbfe731f488.jpg);"></div><div id="an_music_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155535.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">112</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-hexoa-homezhuyefangzijia"></i><svg class="icon fas fa-home" aria-hidden="true"><use xlink:href="#icon-hexoa-homezhuyefangzijia"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-hexoshouhuiban"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoshouhuiban"></use></svg><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexohuanjiaowenzhang"></use></svg><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexofenlei"></use></svg><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexobiaoqian"></use></svg><span> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoguidang"></use></svg><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoicon_liebiao"></use></svg><span> å¨±ä¹</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoyinle"></use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/gallery/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexotubiaozhizuomoban"></use></svg><span> ç›¸å†Œ</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-hexopengyou"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexopengyou"></use></svg><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-hexowode"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexowode"></use></svg><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155552.png" alt="Logo"><span class="site-name">èœ¡ç¬”æ¢¦å·¥å‚</span></a><a class="nav-page-title" href="/"><span class="site-name">ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></span></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-hexoa-homezhuyefangzijia"></i><svg class="icon fas fa-home" aria-hidden="true"><use xlink:href="#icon-hexoa-homezhuyefangzijia"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-hexoshouhuiban"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoshouhuiban"></use></svg><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexohuanjiaowenzhang"></use></svg><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexofenlei"></use></svg><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexobiaoqian"></use></svg><span> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoguidang"></use></svg><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoicon_liebiao"></use></svg><span> å¨±ä¹</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexoyinle"></use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/gallery/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexotubiaozhizuomoban"></use></svg><span> ç›¸å†Œ</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-hexopengyou"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexopengyou"></use></svg><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw icon-hexowode"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-hexowode"></use></svg><span> å…³äº</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div><div id="randomPost"><a class="site-page social-icon search" href="javascript:;" onclick="randomPost()" title="éšæœºè®¿é—®ä¸€ç¯‡æ–‡ç« "><i class="fas fa-circle-notch fa-fw"></i></a></div></nav><div id="post-info"><h1 class="post-title">ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-09-02T02:03:00.000Z" title="å‘è¡¨äº 2025-09-02 10:03:00">2025-09-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-09-02T12:41:15.351Z" title="æ›´æ–°äº 2025-09-02 20:41:15">2025-09-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE/">ç‘å‰å¤–å–é¡¹ç›®</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">16k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>65åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div class="series-navigation"><h4 class="series-title">ç‘å‰å¤–å–é¡¹ç›®å¼€å‘æŒ‡å—</h4><ol class="series-list"><li class="series-item"><a class="series-link" href="/post/reggie-overview.html"><span class="series-icon">â€¢</span><span class="series-text">ğŸ“‹ ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„</span></a></li><li class="series-item"><a class="series-link" href="/post/reggie-business.html"><span class="series-icon">â€¢</span><span class="series-text">ğŸ’¼ ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘</span></a></li><li class="series-item"><a class="series-link" href="/post/reggie-mobile.html"><span class="series-icon">â€¢</span><span class="series-text">ğŸ“± ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°</span></a></li><li class="series-item series-current"><a class="series-link" href="/post/reggie-optimization.html"><span class="series-icon">â€¢</span><span class="series-text">ğŸš€ ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§</span></a><span class="series-current-tag">â† å½“å‰ä½ç½® ğŸ›¸</span></li><li class="series-item"><a class="series-link" href="/post/reggie-deployment.html"><span class="series-icon">â€¢</span><span class="series-text">ğŸŒ ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²</span></a></li></ol></div><p>é—®é¢˜ï¼š</p>
<p>![[505ab7fbaa734f9297349863aadb970a.png]]</p>
<p>è§£å†³ï¼šé€šè¿‡ç¼“å­˜è¿›è¡Œä¼˜åŒ–</p>
<p>.gitignoreæ‹·è´åˆ°æ ¹ç›®å½•ï¼Œåˆ—å‡ºäº†åœ¨ Git ç‰ˆæœ¬æ§åˆ¶ä¸­åº”è¯¥è¢«å¿½ç•¥çš„æ–‡ä»¶å’Œç›®å½•ã€‚<code>.gitignore</code> æ–‡ä»¶ç”¨äºå‘Šè¯‰ Git å¿½ç•¥è·Ÿè¸ªç‰¹å®šæ–‡ä»¶æˆ–ç›®å½•ï¼Œè¿™äº›é€šå¸¸æ˜¯ä¸éœ€è¦åŠ å…¥ç‰ˆæœ¬æ§åˆ¶çš„ï¼Œæ¯”å¦‚ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶ã€ä¸ªäººé…ç½®æ–‡ä»¶ç­‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">.git</span><br><span class="line">logs</span><br><span class="line">rebel.xml</span><br><span class="line">target/</span><br><span class="line">!.mvn/wrapper/maven-wrapper.jar</span><br><span class="line">log.path_IS_UNDEFINED</span><br><span class="line">.DS_Store</span><br><span class="line">offline_user.md</span><br><span class="line"></span><br><span class="line">### STS ###</span><br><span class="line">.apt_generated</span><br><span class="line">.classpath</span><br><span class="line">.factorypath</span><br><span class="line">.project</span><br><span class="line">.settings</span><br><span class="line">.springBeans</span><br><span class="line"></span><br><span class="line">### IntelliJ IDEA ###</span><br><span class="line">.idea</span><br><span class="line">*.iws</span><br><span class="line">*.iml</span><br><span class="line">*.ipr</span><br><span class="line"></span><br><span class="line">### NetBeans ###</span><br><span class="line">nbproject/<span class="keyword">private</span>/</span><br><span class="line">build/</span><br><span class="line">nbbuild/</span><br><span class="line">dist/</span><br><span class="line">nbdist/</span><br><span class="line">.nb-gradle/</span><br><span class="line">generatorConfig.xml</span><br><span class="line"></span><br><span class="line">### nacos ###</span><br><span class="line">third-party/nacos/derby.log</span><br><span class="line">third-party/nacos/data/</span><br><span class="line">third-party/nacos/work/</span><br><span class="line"></span><br><span class="line">file/</span><br></pre></td></tr></table></figure>
<p>gitç®¡ç†ï¼Œ<a target="_blank" rel="noopener" href="https://gitee.com/liangruisyc/delivery.git">https://gitee.com/liangruisyc/delivery.git</a>ï¼Œæ·»åŠ v1.0åˆ†æ”¯ï¼Œå­˜æ”¾ç¼“å­˜ä»£ç </p>
<h2 id="ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</h2>
<p>å¯¼å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- redis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨pom.xmlæ·»åŠ é…ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  redis:</span><br><span class="line">#    host: <span class="number">192.168</span><span class="number">.44</span><span class="number">.128</span></span><br><span class="line">#    port: <span class="number">6379</span></span><br><span class="line">    username: root</span><br><span class="line">#    password: ***</span><br><span class="line">    url: redis:<span class="comment">//&lt;password&gt;@&lt;url&gt;:&lt;port&gt;</span></span><br></pre></td></tr></table></figure>
<p>Redisé…ç½®ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.cache.annotation.CachingConfigurerSupport;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.connection.RedisConnectionFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.serializer.StringRedisSerializer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Redisé…ç½®ç±»</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> zhang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/9/12 - 15:02</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> <span class="keyword">extends</span> <span class="title class_">CachingConfigurerSupport</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;Object, Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory connectionFactory)</span> &#123;</span><br><span class="line">        RedisTemplate&lt;Object, Object&gt; redisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é»˜è®¤çš„Keyåºåˆ—åŒ–å™¨ä¸ºï¼šJdkSerializationRedisSerializer</span></span><br><span class="line">        redisTemplate.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        redisTemplate.setHashKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line"></span><br><span class="line">        redisTemplate.setConnectionFactory(connectionFactory);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç¼“å­˜çŸ­ä¿¡éªŒè¯ç ">ç¼“å­˜çŸ­ä¿¡éªŒè¯ç </h2>
<p>å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº†ç§»åŠ¨ç«¯æ‰‹æœºéªŒè¯ç ç™»å½•ï¼Œéšæœºç”Ÿæˆçš„éªŒè¯ç æˆ‘ä»¬æ˜¯ä¿å­˜åœ¨HttpSessionä¸­çš„ã€‚ç°åœ¨éœ€è¦æ”¹é€ ä¸ºå°†éªŒè¯ç ç¼“å­˜åœ¨Redisä¸­ï¼Œå…·ä½“çš„å®ç°æ€è·¯å¦‚ä¸‹:</p>
<ol>
<li>
<p>åœ¨æœåŠ¡ç«¯UserControllerä¸­æ³¨å…¥RedisTemplateå¯¹è±¡ï¼Œç”¨äºæ“ä½œRedis</p>
</li>
<li>
<p>åœ¨æœåŠ¡ç«¯UserControllerçš„sendMsgæ–¹æ³•ä¸­ï¼Œå°†éšæœºç”Ÿæˆçš„éªŒè¯ç ç¼“å­˜åˆ°Redisä¸­ï¼Œå¹¶è®¾ç½®æœ‰æ•ˆæœŸä¸º5åˆ†é’Ÿ</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * å‘é€æ‰‹æœºçŸ­ä¿¡éªŒè¯ç </span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> user</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@PostMapping(&quot;/sendMsg&quot;)</span></span><br><span class="line">	<span class="keyword">public</span> R&lt;String&gt; <span class="title function_">sendMsg</span><span class="params">(<span class="meta">@RequestBody</span> User user, HttpSession session)</span> &#123;</span><br><span class="line">		<span class="comment">// è·å–æ‰‹æœºå·</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> user.getPhone();</span><br><span class="line">		<span class="keyword">if</span> (StringUtils.isNotEmpty(phone)) &#123;</span><br><span class="line">			<span class="comment">// éšæœºç”Ÿæˆ4ä½éªŒè¯ç ï¼ˆè½¬æˆstringæ–¹ä¾¿åé¢çš„æ¯”å¯¹ï¼‰</span></span><br><span class="line">			<span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> ValidateCodeUtils.generateValidateCode(<span class="number">4</span>).toString();</span><br><span class="line">			log.info(<span class="string">&quot;code=&#123;&#125;&quot;</span>, code);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// è°ƒç”¨é˜¿é‡Œäº‘æä¾›çš„çŸ­ä¿¡æœåŠ¡apiå®Œæˆå‘é€çŸ­ä¿¡  è¿™é‡Œä¸ªäººç”¨æˆ·ç”³è¯·ä¸äº†é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡çš„ç­¾åï¼Œæ‰€ä»¥è¿™é‡Œåœ¨åå°è¾“å‡ºäº†</span></span><br><span class="line">			<span class="comment">// SMSUtils.sendMessage(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// å°†ç”Ÿæˆçš„çŸ­ä¿¡éªŒè¯ç ä¿å­˜åˆ°sessionï¼ŒåæœŸä¼šå­˜åˆ°redis</span></span><br><span class="line">			<span class="comment">// session.setAttribute(phone, code); // ï¼ˆå±æ€§åç§°ï¼Œå±æ€§å€¼ï¼‰</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// è®²ç”Ÿæˆçš„éªŒè¯ç ç¼“å­˜åˆ°Redisä¸­ï¼Œå¹¶è®¾ç½®æœ‰æ•ˆæœŸä¸º5min</span></span><br><span class="line">			redisTemplate.opsForValue().set(phone, code, <span class="number">5</span>, TimeUnit.MINUTES);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> R.success(<span class="string">&quot;æ‰‹æœºéªŒè¯ç å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> R.error(<span class="string">&quot;çŸ­ä¿¡å‘é€å¤±è´¥&quot;</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨æœåŠ¡ç«¯UserControllerçš„loginæ–¹æ³•ä¸­ï¼Œä»Redisä¸­è·å–ç¼“å­˜çš„éªŒè¯ç ï¼Œå¦‚æœç™»å½•æˆåŠŸåˆ™åˆ é™¤Rediä¸­çš„éªŒè¯ç </p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * ç§»åŠ¨ç«¯ç”¨æˆ·ç™»å½•</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> map</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> session</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">	<span class="keyword">public</span> R&lt;User&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> Map map, HttpSession session)</span> &#123;</span><br><span class="line">		<span class="comment">// log.info(map.toString());</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// è·å–æ‰‹æœºå·</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> map.get(<span class="string">&quot;phone&quot;</span>).toString();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// è·å–éªŒè¯ç </span></span><br><span class="line">		<span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> map.get(<span class="string">&quot;code&quot;</span>).toString();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// ä»sessionä¸­è·å–ä¿å­˜çš„éªŒè¯ç </span></span><br><span class="line">		<span class="comment">// Object codeSession = session.getAttribute(phone);</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// ä»Redisä¸­è·å–ç¼“å­˜çš„éªŒè¯ç </span></span><br><span class="line">		<span class="type">Object</span> <span class="variable">codeSession</span> <span class="operator">=</span> redisTemplate.opsForValue().get(phone);</span><br><span class="line">		<span class="comment">// æ¯”å¯¹é¡µé¢æäº¤çš„éªŒè¯ç å’Œsessionä¸­ä¿å­˜çš„éªŒè¯ç </span></span><br><span class="line">		<span class="keyword">if</span> (codeSession != <span class="literal">null</span> &amp;&amp; codeSession.equals(code)) &#123;</span><br><span class="line">			<span class="comment">// ç™»å½•æˆåŠŸ</span></span><br><span class="line">			LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">			queryWrapper.eq(User::getPhone, phone);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// æ ¹æ®ç”¨æˆ·çš„æ‰‹æœºå·å»ç”¨æˆ·è¡¨é‡Œè·å–ç”¨æˆ·</span></span><br><span class="line">			<span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getOne(queryWrapper);</span><br><span class="line">			<span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="comment">// åˆ¤æ–­å½“å‰æ‰‹æœºå·å¯¹åº”çš„ç”¨æˆ·æ˜¯å¦ä¸ºæ–°ç”¨æˆ·ï¼Œè‹¥æ˜¯ï¼Œè‡ªåŠ¨å®Œæˆæ³¨å†Œ</span></span><br><span class="line">				user = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">				user.setPhone(phone);</span><br><span class="line">				user.setStatus(<span class="number">1</span>); <span class="comment">// å¯è®¾ç½®ä¹Ÿå¯ä¸è®¾ç½®ï¼Œå› ä¸ºæ•°æ®åº“æˆ‘ä»¬è®¾ç½®äº†é»˜è®¤å€¼</span></span><br><span class="line">				<span class="comment">// æ³¨å†Œæ–°ç”¨æˆ·</span></span><br><span class="line">				userService.save(user);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// ä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€</span></span><br><span class="line">			session.setAttribute(<span class="string">&quot;user&quot;</span>, user.getId());</span><br><span class="line">			redisTemplate.delete(phone);</span><br><span class="line">			<span class="keyword">return</span> R.success(user);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// è‹¥è¿è¡Œåˆ°è¿™ï¼Œè¯æ˜è¿è¡ŒæˆåŠŸï¼Œåˆ é™¤Redisä¸­ç¼“å­˜çš„éªŒè¯ç </span></span><br><span class="line">		<span class="keyword">return</span> R.error(<span class="string">&quot;ç™»å½•å¤±è´¥&quot;</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ç¼“å­˜èœå“æ•°æ®">ç¼“å­˜èœå“æ•°æ®</h2>
<p>å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº†ç§»åŠ¨ç«¯èœå“æŸ¥çœ‹åŠŸèƒ½ï¼Œå¯¹åº”çš„æœåŠ¡ç«¯æ–¹æ³•ä¸ºDishControllerçš„listæ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šæ ¹æ®å‰ç«¯æäº¤çš„æŸ¥è¯¢æ¡ä»¶è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢æ“ä½œã€‚åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œé¢‘ç¹æŸ¥è¯¢æ•°æ®åº“ä¼šå¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ï¼ŒæœåŠ¡ç«¯å“åº”æ—¶é—´å¢é•¿ã€‚ç°åœ¨éœ€è¦å¯¹æ­¤æ–¹æ³•è¿›è¡Œç¼“å­˜ä¼˜åŒ–ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚å…·ä½“çš„å®ç°æ€è·¯å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>æ”¹é€ DishControllerçš„listæ–¹æ³•ï¼Œå…ˆä»Redisä¸­è·å–èœå“æ•°æ®ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥è¿”å›ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“ï¼›å¦‚æœæ²¡æœ‰åˆ™æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶å°†æŸ¥è¯¢åˆ°çš„èœå“æ•°æ®æ”¾å…¥Redisã€‚</p>
</li>
<li>
<p>æ”¹é€ DishControllerçš„saveå’Œupdateæ–¹æ³•ï¼ŒåŠ å…¥æ¸…ç†ç¼“å­˜çš„é€»è¾‘<br>
æ³¨æ„äº‹é¡¹</p>
<p>ä¸¤ç§ç¼“å­˜æ–¹å¼ï¼š</p>
<ol>
<li>æ¸…ç†æ‰€æœ‰èœå“çš„ç¼“å­˜</li>
<li>ç²¾ç¡®æ¸…ç†</li>
</ol>
</li>
</ol>
<p>åœ¨ä½¿ç”¨ç¼“å­˜è¿‡ç¨‹ä¸­ï¼Œè¦æ³¨æ„ä¿è¯æ•°æ®åº“ä¸­çš„æ•°æ®å’Œç¼“å­˜ä¸­çš„æ•°æ®ä¸€è‡´ï¼Œå¦‚æœæ•°æ®åº“ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦åŠæ—¶æ¸…ç†ç¼“å­˜æ•°æ®ã€‚</p>
<p>![[/Untitled 221.png|Untitled 221.png]]</p>
<p>æ”¾å…¥ä¸åŒåˆ†ç±»ä¸‹çš„åˆ†ç±»idå’ŒçŠ¶æ€çš„é›†åˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * æ ¹æ®æ¡ä»¶æŸ¥è¯¢å¯¹åº”çš„èœå“æ•°æ®</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> dish</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">	<span class="keyword">public</span> R&lt;List&lt;DishDto&gt;&gt; <span class="title function_">list</span><span class="params">(Dish dish)</span> &#123; <span class="comment">// TODO å¯ä»¥ä¼ å…¥DishDtoå—</span></span><br><span class="line">		log.info(dish.toString());</span><br><span class="line"></span><br><span class="line">		List&lt;DishDto&gt; dishDtoList = <span class="literal">null</span>; <span class="comment">// å­˜å‚¨è½¬æ¢åçš„èœå“æ•°æ®</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// åŠ¨æ€æ„é€ key</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;dish_&quot;</span> + dish.getCategoryId() + <span class="string">&quot;_&quot;</span> + dish.getStatus(); <span class="comment">// dish_1397844303408574465_1;</span></span><br><span class="line">		<span class="comment">// ä»Redisä¸­è·å–ç¼“å­˜æ•°æ®</span></span><br><span class="line">		dishDtoList = (List&lt;DishDto&gt;) redisTemplate.opsForValue().get(key);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å¦‚æœå­˜åœ¨ï¼Œç›´æ¥è¿”å›ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">		<span class="keyword">if</span> (dishDtoList != <span class="literal">null</span>)</span><br><span class="line">			<span class="keyword">return</span> R.success(dishDtoList);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å¦‚æœä¸å­˜åœ¨ï¼Œéœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œå°†æŸ¥è¯¢åˆ°çš„èœå“æ•°æ®ç¼“å­˜åˆ°Redis</span></span><br><span class="line">		LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">		queryWrapper.eq(dish.getCategoryId() != <span class="literal">null</span>, Dish::getCategoryId, dish.getCategoryId());</span><br><span class="line">		<span class="comment">// æŸ¥è¯¢çŠ¶æ€ä¸º1ï¼ˆèµ·å”®çŠ¶æ€ï¼‰çš„èœå“</span></span><br><span class="line">		queryWrapper.eq(Dish::getStatus, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		queryWrapper.orderByAsc(Dish::getSort).orderByDesc(Dish::getUpdateTime);</span><br><span class="line"></span><br><span class="line">		List&lt;Dish&gt; list = dishService.list(queryWrapper);</span><br><span class="line"></span><br><span class="line">		dishDtoList = list.stream().map((item) -&gt; &#123;</span><br><span class="line">			<span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ä¸ºdishDtoå¯¹è±¡çš„åŸºæœ¬å±æ€§æ‹·è´</span></span><br><span class="line">			BeanUtils.copyProperties(item, dishDto);</span><br><span class="line">			<span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();</span><br><span class="line">			<span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">			<span class="keyword">if</span> (category != <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">				dishDto.setCategoryName(categoryName);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ä¸ºdishdtoèµ‹å€¼flavorså±æ€§</span></span><br><span class="line">			<span class="type">Long</span> <span class="variable">dishid</span> <span class="operator">=</span> item.getId();</span><br><span class="line">			LambdaQueryWrapper&lt;DishFlavor&gt; flavorQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">			flavorQueryWrapper.eq(dishid != <span class="literal">null</span>, DishFlavor::getDishId, dishid);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// ä¸€ä¸ªdishå¯¹åº”å¤šæ¡flavorï¼Œæ‰€ä»¥ç”¨list</span></span><br><span class="line">			List&lt;DishFlavor&gt; dishFlavorList = dishFlavorService.list(flavorQueryWrapper);</span><br><span class="line">			dishDto.setFlavors(dishFlavorList);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> dishDto;</span><br><span class="line">		&#125;).collect(Collectors.toList());</span><br><span class="line">		<span class="comment">// ç¼“å­˜æœªå‘½ä¸­ï¼Œä»£ç å°†æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœå­˜å…¥ Redis</span></span><br><span class="line">		redisTemplate.opsForValue().set(key, dishDtoList, <span class="number">60</span>, TimeUnit.MINUTES);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> R.success(dishDtoList);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¿®æ”¹èœå“</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> DishDto dishDto)</span>&#123;</span><br><span class="line">    dishSerivce.updateWithFlavor(dishDto);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç†æ‰€æœ‰èœå“çš„ç¼“å­˜æ•°æ®</span></span><br><span class="line">    <span class="type">Set</span> <span class="variable">keys</span> <span class="operator">=</span> redisTemplate.keys(<span class="string">&quot;dish_*&quot;</span>);</span><br><span class="line">    redisTemplate.delete(keys);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;ä¿®æ”¹èœå“æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–°å¢èœå“</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> dishDto</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> DishDto dishDto)</span>&#123;</span><br><span class="line">    <span class="comment">//log.info(dishDto.toString());</span></span><br><span class="line">    dishSerivce.saveWithFlavor(dishDto);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç†ä¿®æ”¹çš„èœå“çš„ç¼“å­˜æ•°æ®</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;dish_&quot;</span> + dishDto.getCategoryId() + <span class="string">&quot;_1&quot;</span>;</span><br><span class="line">    redisTemplate.delete(key);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;æ–°å¢èœå“æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>v1.0æ²¡æœ‰é—®é¢˜ï¼Œæäº¤å¹¶åˆå¹¶</p>
<h2 id="Spring-Cache">Spring Cache</h2>
<p>Spring Cacheæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå®ç°äº†åŸºäº<strong>æ³¨è§£</strong>çš„ç¼“å­˜åŠŸèƒ½ï¼Œåªéœ€è¦ç®€å•åœ°åŠ ä¸€ä¸ªæ³¨è§£ï¼Œå°±èƒ½å®ç°ç¼“å­˜åŠŸèƒ½ã€‚</p>
<p>Spring Cacheæä¾›äº†ä¸€å±‚<strong>æŠ½è±¡</strong>ï¼Œåº•å±‚å¯ä»¥åˆ‡æ¢ä¸åŒçš„cacheå®ç°ã€‚å…·ä½“å°±æ˜¯é€šè¿‡<mark>cacheManager</mark>æ¥å£æ¥ç»Ÿä¸€ä¸åŒçš„ç¼“å­˜æŠ€æœ¯ã€‚</p>
<p>CacheManageræ˜¯Springæä¾›çš„å„ç§ç¼“å­˜æŠ€æœ¯æŠ½è±¡æ¥å£ã€‚<br>
é’ˆå¯¹ä¸åŒçš„ç¼“å­˜æŠ€æœ¯éœ€è¦å®ç°ä¸åŒçš„CacheManagerï¼š</p>
<p>![[/Untitled 7 70.png|Untitled 7 70.png]]</p>
<p>![[/Untitled 1 126.png|Untitled 1 126.png]]</p>
<p>åœ¨spring booté¡¹ç›®ä¸­ï¼Œä½¿ç”¨ç¼“å­˜æŠ€æœ¯åªéœ€åœ¨é¡¹ç›®ä¸­å¯¼å…¥ç›¸å…³ç¼“å­˜æŠ€æœ¯çš„ä¾èµ–åŒ…ï¼Œå¹¶åœ¨å¯åŠ¨ç±»ä¸Šä½¿ç”¨@EnableCachingå¼€å¯ç¼“å­˜æ”¯æŒå³å¯ã€‚<br>
ä¾‹å¦‚ï¼Œä½¿ç”¨Redisä½œä¸ºç¼“å­˜æŠ€æœ¯ï¼Œåªéœ€è¦å¯¼å…¥SpringdataRedisçš„mavenåæ ‡å³å¯ã€‚</p>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<p>å¯¼å…¥ springCache çš„ maven åæ ‡</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨ç±»åŠ ä¸Š@EnableCachingæ³¨è§£</p>
<p>UserController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CacheManager cacheManager;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * CachePutï¼šå°†æ–¹æ³•è¿”å›å€¼æ”¾å…¥ç¼“å­˜</span></span><br><span class="line"><span class="comment">     * valueï¼šç¼“å­˜çš„åç§°ï¼Œæ¯ä¸ªç¼“å­˜åç§°ä¸‹é¢å¯ä»¥æœ‰å¤šä¸ªkey</span></span><br><span class="line"><span class="comment">     * keyï¼šç¼“å­˜çš„key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@CachePut(value = &quot;userCache&quot;,key = &quot;\#user.id&quot;)</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">save</span><span class="params">(User user)</span>&#123;</span><br><span class="line">        userService.save(user);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * CacheEvictï¼šæ¸…ç†æŒ‡å®šç¼“å­˜</span></span><br><span class="line"><span class="comment">     * valueï¼šç¼“å­˜çš„åç§°ï¼Œæ¯ä¸ªç¼“å­˜åç§°ä¸‹é¢å¯ä»¥æœ‰å¤šä¸ªkey</span></span><br><span class="line"><span class="comment">     * keyï¼šç¼“å­˜çš„key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@CacheEvict(value = &quot;userCache&quot;,key = &quot;\#p0&quot;)</span> <span class="comment">// æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="comment">//@CacheEvict(value = &quot;userCache&quot;,key = &quot;\#root.args[0]&quot;)</span></span><br><span class="line">    <span class="comment">//@CacheEvict(value = &quot;userCache&quot;,key = &quot;\#id&quot;)</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span>&#123;</span><br><span class="line">        userService.removeById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@CacheEvict(value = &quot;userCache&quot;,key = &quot;\#p0.id&quot;)</span></span><br><span class="line">    <span class="comment">//@CacheEvict(value = &quot;userCache&quot;,key = &quot;\#user.id&quot;)</span></span><br><span class="line">    <span class="comment">//@CacheEvict(value = &quot;userCache&quot;,key = &quot;\#root.args[0].id&quot;)</span></span><br><span class="line">    <span class="meta">@CacheEvict(value = &quot;userCache&quot;,key = &quot;\#result.id&quot;)</span></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">update</span><span class="params">(User user)</span>&#123;</span><br><span class="line">        userService.updateById(user);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Cacheableï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰springå…ˆæŸ¥çœ‹ç¼“å­˜ä¸­æ˜¯å¦æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰æ•°æ®ï¼Œåˆ™ç›´æ¥è¿”å›ç¼“å­˜æ•°æ®ï¼›è‹¥æ²¡æœ‰æ•°æ®ï¼Œè°ƒç”¨æ–¹æ³•å¹¶å°†æ–¹æ³•è¿”å›å€¼æ”¾åˆ°ç¼“å­˜ä¸­</span></span><br><span class="line"><span class="comment">     * valueï¼šç¼“å­˜çš„åç§°ï¼Œæ¯ä¸ªç¼“å­˜åç§°ä¸‹é¢å¯ä»¥æœ‰å¤šä¸ªkey</span></span><br><span class="line"><span class="comment">     * keyï¼šç¼“å­˜çš„key</span></span><br><span class="line"><span class="comment">     * conditionï¼šæ¡ä»¶ï¼Œæ»¡è¶³æ¡ä»¶æ—¶æ‰ç¼“å­˜æ•°æ®</span></span><br><span class="line"><span class="comment">     * unlessï¼šæ»¡è¶³æ¡ä»¶åˆ™ä¸ç¼“å­˜</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Cacheable(value = &quot;userCache&quot;,key = &quot;\#id&quot;,unless = &quot;\#result == null&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span>&#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(id);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Cacheable(value = &quot;userCache&quot;,key = &quot;\#user.id + &#x27;_&#x27; + #user.name&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">list</span><span class="params">(User user)</span>&#123;</span><br><span class="line">        LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(user.getId() != <span class="literal">null</span>,User::getId,user.getId());</span><br><span class="line">        queryWrapper.eq(user.getName() != <span class="literal">null</span>,User::getName,user.getName());</span><br><span class="line">        List&lt;User&gt; list = userService.list(queryWrapper);</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ª Spring Framework çš„æ§åˆ¶å™¨ç±»ï¼Œç”¨äºç®¡ç†ç”¨æˆ·ï¼ˆUserï¼‰ç›¸å…³çš„è¯·æ±‚ã€‚å®ƒæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Spring çš„ç¼“å­˜æ³¨è§£æ¥å¤„ç†ç¼“å­˜é€»è¾‘ã€‚ä»¥ä¸‹æ˜¯å¯¹æ§åˆ¶å™¨ä¸­æ¯ä¸ªæ–¹æ³•çš„è§£é‡Šï¼š</p>
<ol>
<li><strong>save æ–¹æ³•</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>@CachePut</code> æ³¨è§£ï¼Œè¯¥æ–¹æ³•åœ¨åˆ›å»ºæ–°ç”¨æˆ·åï¼Œå°†ç”¨æˆ·å¯¹è±¡æ”¾å…¥åä¸º <code>userCache</code> çš„ç¼“å­˜ä¸­ï¼Œé”®ä¸ºç”¨æˆ· IDã€‚</li>
<li>é€šè¿‡ <code>userService.save(user)</code> å°†ç”¨æˆ·æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ã€‚</li>
</ul>
</li>
<li><strong>delete æ–¹æ³•</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>@CacheEvict</code> æ³¨è§£ï¼Œè¯¥æ–¹æ³•åœ¨åˆ é™¤ç”¨æˆ·åï¼Œä» <code>userCache</code> ç¼“å­˜ä¸­ç§»é™¤å¯¹åº” ID çš„ç”¨æˆ·å¯¹è±¡ã€‚</li>
<li>é€šè¿‡ <code>userService.removeById(id)</code> æ ¹æ® ID åˆ é™¤æ•°æ®åº“ä¸­çš„ç”¨æˆ·ã€‚</li>
</ul>
</li>
<li><strong>update æ–¹æ³•</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>@CacheEvict</code> æ³¨è§£ï¼Œè¯¥æ–¹æ³•åœ¨æ›´æ–°ç”¨æˆ·åï¼Œä» <code>userCache</code> ç¼“å­˜ä¸­ç§»é™¤åŸç”¨æˆ·å¯¹è±¡ï¼Œç„¶åå†æ¬¡å°†æ›´æ–°åçš„ç”¨æˆ·å¯¹è±¡æ”¾å…¥ç¼“å­˜ã€‚</li>
<li>é€šè¿‡ <code>userService.updateById(user)</code> æ›´æ–°æ•°æ®åº“ä¸­çš„ç”¨æˆ·æ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>getById æ–¹æ³•</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>@Cacheable</code> æ³¨è§£ï¼Œè¯¥æ–¹æ³•é¦–å…ˆæ£€æŸ¥ <code>userCache</code> ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨å¯¹åº” ID çš„ç”¨æˆ·å¯¹è±¡ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è°ƒç”¨ <code>userService.getById(id)</code> ä»æ•°æ®åº“ä¸­è·å–ç”¨æˆ·æ•°æ®ï¼Œå¹¶å°†å…¶æ”¾å…¥ç¼“å­˜ã€‚</li>
<li><code>unless = &quot;#result == null&quot;</code> conditionæ»¡è¶³æ¡ä»¶æ—¶æ‰ç¼“å­˜æ•°æ®ï¼Œå¦‚æœæ–¹æ³•è¿”å›å€¼ä¸º nullï¼Œåˆ™ä¸è¿›è¡Œç¼“å­˜ã€‚æˆ–è€…unlessæ»¡è¶³æ¡ä»¶åˆ™ä¸ç¼“å­˜</li>
</ul>
</li>
<li><strong>list æ–¹æ³•</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <code>@Cacheable</code> æ³¨è§£ï¼Œè¯¥æ–¹æ³•æ ¹æ®ä¼ å…¥çš„ <code>User</code> å¯¹è±¡æ„é€ æŸ¥è¯¢æ¡ä»¶ï¼ŒæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶å°†ç»“æœæ”¾å…¥åä¸º <code>userCache</code> çš„ç¼“å­˜ä¸­ã€‚</li>
<li>ç¼“å­˜çš„é”®ç”±ç”¨æˆ· ID å’Œç”¨æˆ·åç»„æˆï¼Œè¿™æ„å‘³ç€ä¸åŒçš„æŸ¥è¯¢æ¡ä»¶å°†æœ‰ä¸åŒçš„ç¼“å­˜é”®ã€‚</li>
<li>é€šè¿‡ <code>userService.list(queryWrapper)</code> è·å–ç”¨æˆ·åˆ—è¡¨ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ç¼“å­˜æ³¨è§£è¯¦è§£ï¼š">ç¼“å­˜æ³¨è§£è¯¦è§£ï¼š</h3>
<ul>
<li><code>@Cacheable</code>ï¼šæ–¹æ³•æ‰§è¡Œ<mark>å‰</mark>ï¼Œå…ˆæ£€æŸ¥ç¼“å­˜ï¼Œå¦‚æœæœ‰ç¼“å­˜åˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™æ‰§è¡Œæ–¹æ³•å¹¶å°†ç»“æœå­˜å…¥ç¼“å­˜ã€‚</li>
<li><code>@CachePut</code>ï¼šæ–¹æ³•æ‰§è¡Œ<mark>å</mark>ï¼Œå°†è¿”å›å€¼æ”¾å…¥ç¼“å­˜ï¼Œæ›¿æ¢æ‰åŸæœ‰çš„ç¼“å­˜å€¼ã€‚</li>
<li><code>@CacheEvict</code>ï¼š<mark>æ¸…ç†</mark>ç¼“å­˜ï¼Œå¯ä»¥æŒ‡å®šåˆ é™¤æŸä¸ªé”®æˆ–å…¨éƒ¨ç¼“å­˜ã€‚</li>
</ul>
<h3 id="æ³¨æ„äº‹é¡¹ï¼š">æ³¨æ„äº‹é¡¹ï¼š</h3>
<ul>
<li><code>value</code>Â æˆ–Â <code>&quot;&quot;</code>ï¼šæŒ‡å®šç¼“å­˜ç®¡ç†å™¨çš„åç§°ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰ï¼Œå¯ä»¥æœ‰å¤šä¸ªç¼“å­˜ç®¡ç†å™¨ï¼ŒSpring Cache ä¼šæ ¹æ®è¿™ä¸ªåç§°æ‰¾åˆ°å¯¹åº”çš„ç¼“å­˜ç®¡ç†å™¨è¿›è¡Œæ“ä½œã€‚</li>
<li>ç¼“å­˜é”® <code>key</code> å®šä¹‰äº†ç¼“å­˜æ•°æ®çš„é”®ï¼Œå¯ä»¥æ˜¯æ–¹æ³•å‚æ•°çš„ä¸€éƒ¨åˆ†æˆ–æ•´ä¸ªå‚æ•°ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†å­˜å‚¨åœ¨ç¼“å­˜ä¸­çš„é¡¹çš„å€¼ã€‚ä½¿ç”¨ SpEL è¡¨è¾¾å¼åŠ¨æ€å­˜å‚¨ï¼Œ</li>
<li>ç¼“å­˜æ³¨è§£å¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œå¦‚ <code>condition</code>ï¼ˆæ¡ä»¶ï¼‰å’Œ <code>unless</code>ï¼ˆé™¤éï¼‰ï¼Œç”¨äºæ›´ç»†ç²’åº¦çš„æ§åˆ¶ç¼“å­˜è¡Œä¸ºã€‚</li>
</ul>
<p>è¿™ä¸ªæ§åˆ¶å™¨ç±»å±•ç¤ºäº†å¦‚ä½•åœ¨ä¸åŒçš„ CRUD æ“ä½œä¸­ä½¿ç”¨ Spring Cache æ¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œé€šè¿‡å‡å°‘å¯¹æ•°æ®åº“çš„ç›´æ¥è®¿é—®ï¼Œåˆ©ç”¨ç¼“å­˜æ¥å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ã€‚</p>
<p>SpELï¼ˆSpring Expression Languageï¼‰æ˜¯ Spring Framework æä¾›çš„ä¸€ç§å¼ºå¤§çš„è¡¨è¾¾å¼è¯­è¨€ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶æŸ¥è¯¢å’Œæ“ä½œå¯¹è±¡å›¾ã€‚SpEL æ”¯æŒåœ¨ Spring åº”ç”¨ç¨‹åºä¸­ä»¥ä¸€ç§å£°æ˜å¼çš„æ–¹å¼è®¿é—®å’Œä¿®æ”¹åº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡å’Œå¯¹è±¡ã€‚</p>
<p>å½“ <code>getById</code> æ–¹æ³•ä½¿ç”¨ <code>@Cacheable</code> æ³¨è§£å¹¶è®¾ç½® <code>condition</code> å±æ€§æ—¶ï¼Œå¦‚æœæŸ¥è¯¢ä¸€ä¸ªä¸å­˜åœ¨çš„ IDï¼Œå¯èƒ½ä¼šå‘ç”Ÿç¼“å­˜ç©¿é€</p>
<p><strong>ç¼“å­˜ç©¿é€</strong>ï¼šè®¿é—®çš„æ•°æ®æ—¢ä¸åœ¨ç¼“å­˜ä¹Ÿä¸åœ¨æ•°æ®åº“ä¸­</p>
<p>ä¸ºä»€ä¹ˆä¸ä½¿ç”¨Â <code>condition</code>Â æ¥å¤„ç†ç¼“å­˜ç©¿é€ï¼Ÿ</p>
<ol>
<li><code>**condition**</code> <strong>çš„è¡Œä¸º</strong>ï¼š<code>condition</code> å±æ€§æ˜¯ç”¨äºç¡®å®šæ˜¯å¦ç¼“å­˜æ–¹æ³•çš„ç»“æœã€‚å¦‚æœ <code>condition</code> è¡¨è¾¾å¼çš„ç»“æœæ˜¯ <code>false</code>ï¼Œæ–¹æ³•çš„ç»“æœå°†ä¸ä¼šè¢«ç¼“å­˜ã€‚ä½†æ˜¯ï¼Œè¿™å¹¶ä¸èƒ½é˜²æ­¢åœ¨æ•°æ®åº“æŸ¥è¯¢è¿”å› <code>null</code> æ—¶ç¼“å­˜ <code>null</code> å€¼ï¼Œå› ä¸ºåªæœ‰å½“ <code>condition</code> è¡¨è¾¾å¼æ±‚å€¼ä¸º <code>false</code> æ—¶ï¼Œæ‰ä¼šé˜»æ­¢ç¼“å­˜ã€‚</li>
<li><code>**unless**</code> <strong>çš„é€‚ç”¨æ€§</strong>ï¼š<code>unless</code> å±æ€§æ›´é€‚åˆå¤„ç†ç¼“å­˜ç©¿é€çš„æƒ…å†µã€‚<code>unless</code> å±æ€§å…è®¸æ‚¨æŒ‡å®šä¸€ä¸ªæ¡ä»¶ï¼Œå½“è¯¥æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œå³ä½¿æ–¹æ³•æ‰§è¡Œäº†ï¼Œå…¶ç»“æœä¹Ÿä¸ä¼šè¢«ç¼“å­˜ã€‚åœ¨æ‚¨çš„ç¤ºä¾‹ä¸­ï¼Œ<code>unless = &quot;#result == null&quot;</code> æ­£ç¡®åœ°é˜²æ­¢äº† <code>null</code> ç»“æœè¢«ç¼“å­˜ï¼Œä»è€Œé¿å…äº†ç¼“å­˜ç©¿é€é—®é¢˜ã€‚</li>
</ol>
<h3 id="å‡ºç°ç¼“å­˜ç©¿é€çš„æƒ…å†µï¼š">å‡ºç°ç¼“å­˜ç©¿é€çš„æƒ…å†µï¼š</h3>
<ol>
<li><strong>æŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®</strong>ï¼šå½“åº”ç”¨ç¨‹åºæŸ¥è¯¢æ•°æ®åº“ä¸­ä¸å­˜åœ¨çš„æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œæ•°æ®åº“ä¸­æ²¡æœ‰IDä¸º-1çš„è®°å½•ï¼‰ï¼Œå¹¶ä¸”è¿™ä¸ªæŸ¥è¯¢è¯·æ±‚æ²¡æœ‰è¢«ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½ä¼šç›´æ¥æ‰“åˆ°æ•°æ®åº“ä¸Šã€‚</li>
<li><strong>é«˜å¹¶å‘è¯·æ±‚</strong>ï¼šåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¦‚æœå¤§é‡è¯·æ±‚éƒ½æŸ¥è¯¢åŒä¸€ä¸ªä¸å­˜åœ¨çš„æ•°æ®ï¼Œä¼šå¯¼è‡´æ•°æ®åº“åœ¨å¾ˆçŸ­æ—¶é—´å†…æ”¶åˆ°å¤§é‡ç›¸åŒè¯·æ±‚ï¼Œä»è€Œå½±å“æ€§èƒ½ã€‚</li>
<li><strong>æ¶æ„æ”»å‡»</strong>ï¼šæ”»å‡»è€…å¯èƒ½åˆ©ç”¨ç¼“å­˜ç©¿é€çš„ç‰¹æ€§ï¼Œé€šè¿‡å‘é€å¤§é‡æŸ¥è¯¢ä¸å­˜åœ¨æ•°æ®çš„è¯·æ±‚ï¼Œè¾¾åˆ°å¯¹åç«¯æ•°æ®åº“è¿›è¡Œæ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDoSæ”»å‡»ï¼‰çš„ç›®çš„ã€‚</li>
<li><strong>æ•°æ®æ›´æ–°é¢‘ç¹</strong>ï¼šå½“æ•°æ®æ›´æ–°å¾ˆé¢‘ç¹ï¼Œè€Œç¼“å­˜æ²¡æœ‰åŠæ—¶æ›´æ–°æˆ–åŒæ­¥ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸­çš„æ•°æ®ä¸æ•°æ®åº“ä¸­çš„æ•°æ®ä¸ä¸€è‡´ï¼Œä»è€Œå¼•å‘ç¼“å­˜ç©¿é€ã€‚</li>
<li><strong>ç¼“å­˜ç­–ç•¥ä¸å½“</strong>ï¼šå¦‚æœç¼“å­˜ç­–ç•¥è®¾ç½®ä¸å½“ï¼Œä¾‹å¦‚ï¼Œå°†æ‰€æœ‰æŸ¥è¯¢è¯·æ±‚çš„ç»“æœéƒ½ç¼“å­˜ï¼Œè€Œæ²¡æœ‰è€ƒè™‘æ•°æ®çš„å®é™…å­˜åœ¨æ€§ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ç¼“å­˜ç©¿é€ã€‚</li>
</ol>
<h3 id="å¤„ç†ç¼“å­˜ç©¿é€çš„æ­£ç¡®æ–¹å¼">å¤„ç†ç¼“å­˜ç©¿é€çš„æ­£ç¡®æ–¹å¼</h3>
<p>ä¸ºäº†é¿å…ç¼“å­˜ç©¿é€ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š</p>
<ul>
<li><strong>ä½¿ç”¨</strong>Â <code>**unless**</code>Â <strong>å±æ€§</strong>ï¼šå¦‚æ‚¨çš„ç¤ºä¾‹æ‰€ç¤ºï¼Œä½¿ç”¨Â <code>unless = &quot;#result == null&quot;</code>Â æ¥é˜²æ­¢Â <code>null</code>Â å€¼è¢«ç¼“å­˜ã€‚</li>
<li><strong>é¢„åŠ è½½ç©ºå€¼</strong>ï¼šåœ¨ç³»ç»Ÿå¯åŠ¨æˆ–å®šæœŸä»»åŠ¡ä¸­ï¼Œé¢„å…ˆæŸ¥è¯¢å¯èƒ½è¢«è¯·æ±‚çš„é”®ï¼Œå¹¶ä¸»åŠ¨å°†å®ƒä»¬çš„ç»“æœï¼ˆå³ä½¿æ˜¯Â <code>null</code>ï¼‰å­˜å…¥ç¼“å­˜ï¼Œè¿™æ ·å³ä½¿æŸ¥è¯¢è¿”å›Â <code>null</code>ï¼Œè¯·æ±‚ä¹Ÿä¼šä»ç¼“å­˜ä¸­è¿”å›ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½æŸ¥è¯¢æ•°æ®åº“ã€‚</li>
<li><strong>ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼šå¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥ç”¨æ¥å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªé”®æ˜¯å¦å¯èƒ½ä¸å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œä»è€Œé¿å…å¯¹æ•°æ®åº“çš„æŸ¥è¯¢ã€‚</li>
</ul>
<h2 id="ç¼“å­˜å¥—é¤æ•°æ®">ç¼“å­˜å¥—é¤æ•°æ®</h2>
<ol>
<li>
<p>å¯¼å…¥Spring Cacheå’ŒRedisç›¸å…³mavenåæ ‡</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨application.ymlä¸­é…ç½®ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´</p>
 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">time-to-live:</span> <span class="number">1800000</span> <span class="comment"># è®¾ç½®ç¼“å­˜æœ‰æ•ˆæ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ 30min</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨å¯åŠ¨ç±»ä¸ŠåŠ å…¥@EnableCachingæ³¨è§£ï¼Œå¼€å¯ç¼“å­˜æ³¨è§£åŠŸèƒ½</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@ServletComponentScan</span> <span class="comment">//å¼€å¯å¯¹Servletç»„ä»¶çš„æ”¯æŒ</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeliveryApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DeliveryApplication.class, args);</span><br><span class="line">        log.info(<span class="string">&quot;é¡¹ç›®å¯åŠ¨æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>Rè¦åºåˆ—åŒ–</p>
<p>public class R<T> implements Serializable</p>
<p>å½“ä½¿ç”¨ <code>@Cacheable</code> æ³¨è§£æ—¶ï¼ŒSpring éœ€è¦å°† <code>R</code> ç±»çš„å®ä¾‹åºåˆ—åŒ–å¹¶å­˜å‚¨åœ¨ç¼“å­˜ä¸­ã€‚å½“å†æ¬¡è¯·æ±‚ç›¸åŒçš„æ•°æ®æ—¶ï¼ŒSpring å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥è·å–å¹¶ååºåˆ—åŒ–è¿™ä¸ªå¯¹è±¡ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸º JSON å“åº”ç»™å®¢æˆ·ç«¯ã€‚</p>
</li>
<li>
<p>åœ¨SetmealControllerçš„listæ–¹æ³•ä¸ŠåŠ å…¥@Cacheableæ³¨è§£</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®æ¡ä»¶æŸ¥è¯¢å¥—é¤æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="meta">@Cacheable(value = &quot;setmealCache&quot;, key = &quot;\#setmeal.categoryId + &#x27;_&#x27; + #setmeal.status&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;List&lt;Setmeal&gt;&gt; <span class="title function_">list</span><span class="params">(Setmeal setmeal)</span> &#123;</span><br><span class="line">	LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">	queryWrapper.eq(setmeal.getCategoryId() != <span class="literal">null</span>, Setmeal::getCategoryId, setmeal.getCategoryId());</span><br><span class="line">	queryWrapper.eq(Setmeal::getStatus, <span class="number">1</span>);</span><br><span class="line">	queryWrapper.orderByDesc(Setmeal::getUpdateTime);</span><br><span class="line">	List&lt;Setmeal&gt; list = setmealService.list(queryWrapper);</span><br><span class="line">	<span class="keyword">return</span> R.success(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨SetmealControllerçš„saveå’Œdeleteæ–¹æ³•ä¸ŠåŠ å…¥CacheEvictæ³¨è§£</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–°å¢å¥—é¤</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> setmealDto</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="meta">@CacheEvict(value = &quot;setmealCache&quot;, allEntries = true)</span> <span class="comment">// æ¸…ç†setmealåˆ†ç±»ä¸‹æ‰€æœ‰ç¼“å­˜æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> SetmealDto setmealDto)</span> &#123;</span><br><span class="line">	log.info(<span class="string">&quot;å¥—é¤ä¿¡æ¯ï¼š&#123;&#125;&quot;</span>, setmealDto);</span><br><span class="line">	setmealService.saveWithDish(setmealDto);</span><br><span class="line">	<span class="keyword">return</span> R.success(<span class="string">&quot;æ–°å¢å¥—é¤æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ é™¤å¥—é¤ï¼ŒåŒæ—¶éœ€è¦åˆ é™¤å¥—é¤å’Œèœå“çš„å…³è”æ•°æ®</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> ids</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line"><span class="meta">@CacheEvict(value = &quot;setmealCache&quot;, allEntries = true)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">	log.info(<span class="string">&quot;ids:&#123;&#125;&quot;</span>, ids);</span><br><span class="line">	setmealService.removeWithDish(ids);</span><br><span class="line">	<span class="keyword">return</span> R.success(<span class="string">&quot;å¥—é¤æ•°æ®åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="è¯»å†™åˆ†ç¦»">è¯»å†™åˆ†ç¦»</h2>
<p>é—®é¢˜ï¼š</p>
<p>![[408e9a1871a34d6b8b42513695dda165.png]]</p>
<p>è§£å†³ï¼š</p>
<p>![[c6923eec57e4435c9c8006939e9f01a4.png]]</p>
<h3 id="MySQLä¸»ä»å¤åˆ¶">MySQLä¸»ä»å¤åˆ¶</h3>
<p>MySQL ä¸»ä»å¤åˆ¶æ˜¯ä¸€ç§ç”¨äºæ•°æ®é«˜å¯ç”¨æ€§å’Œæ•°æ®å†—ä½™çš„æŠ€æœ¯ï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ï¼ˆä¸»åº“ Masterï¼‰ä¸Šçš„æ•°æ®å˜æ›´åŒæ­¥åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“æœåŠ¡å™¨ï¼ˆä»åº“ Slaveï¼‰ã€‚ä»¥ä¸‹æ˜¯æ‚¨æä¾›çš„å¤åˆ¶è¿‡ç¨‹æè¿°çš„ä¿®æ­£å’Œè¡¥å……ï¼š</p>
<p>![[/Untitled 2 111.png|Untitled 2 111.png]]</p>
<p>å†™ä¸»åº“ï¼Œè¯»ä»åº“</p>
<ol>
<li><strong>Master å°†å˜æ›´è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinary Logï¼‰</strong>ï¼š
<ul>
<li>ä¸»åº“ä¸Šçš„æ‰€æœ‰æ•°æ®å˜æ›´ï¼ˆå¦‚ INSERTã€UPDATEã€DELETEï¼‰éƒ½ä¼šè¢«è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—ä¸­ã€‚è¿™æ˜¯å¤åˆ¶çš„åŸºç¡€ã€‚</li>
</ul>
</li>
<li><strong>Slave å°† Master çš„ Binary Log æ‹·è´åˆ°å®ƒçš„ä¸­ç»§æ—¥å¿—ï¼ˆRelay Logï¼‰</strong>ï¼š
<ul>
<li>ä»åº“é€šè¿‡ä¸€ä¸ªç§°ä¸º I/O Thread çš„å·¥ä½œçº¿ç¨‹è¿æ¥åˆ°ä¸»åº“ï¼Œè¯·æ±‚å¹¶æ¥æ”¶äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶å°†å…¶å†…å®¹å†™å…¥åˆ°è‡ªå·±çš„ä¸­ç»§æ—¥å¿—ä¸­ã€‚</li>
</ul>
</li>
<li><strong>Slave é‡åšä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼Œå°†å˜æ›´åº”ç”¨åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­</strong>ï¼š
<ul>
<li>ä»åº“ä½¿ç”¨ SQL Thread æ¥è§£æä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼Œå¹¶åœ¨æœ¬åœ°æ‰§è¡Œè¿™äº›äº‹ä»¶ï¼Œä»è€Œå°†ä¸»åº“çš„å˜æ›´åº”ç”¨åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ä¸»ä»å¤åˆ¶çš„çº¿ç¨‹ï¼š">ä¸»ä»å¤åˆ¶çš„çº¿ç¨‹ï¼š</h3>
<ul>
<li><strong>I/O Thread</strong>ï¼šè´Ÿè´£åœ¨ä»åº“ä¸Šæ‰§è¡Œç½‘ç»œé€šä¿¡ï¼Œä»ä¸»åº“è·å–äºŒè¿›åˆ¶æ—¥å¿—çš„å˜æ›´ã€‚</li>
<li><strong>SQL Thread</strong>ï¼šè´Ÿè´£åœ¨ä»åº“ä¸Šæ‰§è¡Œè§£æå’Œåº”ç”¨ä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ã€‚</li>
</ul>
<h3 id="ä¸»ä»å¤åˆ¶çš„ç±»å‹ï¼š">ä¸»ä»å¤åˆ¶çš„ç±»å‹ï¼š</h3>
<ul>
<li><strong>å¼‚æ­¥å¤åˆ¶</strong>ï¼ˆAsynchronous Replicationï¼‰ï¼šä¸»åº“åœ¨æ‰§è¡Œå®Œå®¢æˆ·ç«¯æäº¤çš„äº‹åŠ¡åç«‹å³å“åº”ï¼Œä¸ç­‰å¾…ä»åº“çš„ç¡®è®¤ï¼Œå› æ­¤å¯èƒ½å­˜åœ¨ä¸»ä»å»¶è¿Ÿã€‚</li>
<li><strong>åŠåŒæ­¥å¤åˆ¶</strong>ï¼ˆSemi-synchronous Replicationï¼‰ï¼šä¸»åº“åœ¨æ‰§è¡Œå®Œäº‹åŠ¡åä¼šç­‰å¾…è‡³å°‘ä¸€ä¸ªä»åº“ç¡®è®¤æ¥æ”¶åˆ°äº‹åŠ¡ï¼Œæé«˜äº†æ•°æ®ä¸€è‡´æ€§ï¼Œä½†ç‰ºç‰²äº†ä¸€å®šçš„æ€§èƒ½ã€‚</li>
<li><strong>ç»„å¤åˆ¶</strong>ï¼ˆGroup Replicationï¼‰ï¼šä¸€ç§æä¾›é«˜å¯ç”¨æ€§çš„å¤åˆ¶æ–¹å¼ï¼Œæ”¯æŒå¤šç‚¹å†™å…¥å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»ã€‚</li>
</ul>
<h3 id="æ³¨æ„äº‹é¡¹ï¼š-2">æ³¨æ„äº‹é¡¹ï¼š</h3>
<ul>
<li>ä¸»ä»å¤åˆ¶å¯ä»¥ç”¨äºè¯»å†™åˆ†ç¦»ï¼Œæé«˜æ•°æ®åº“çš„è¯»æ€§èƒ½ã€‚</li>
<li>ä¸»ä»å¤åˆ¶å¯ä»¥ç”¨äºæ•°æ®å¤‡ä»½å’Œç¾éš¾æ¢å¤ã€‚</li>
<li>ä¸»ä»å¤åˆ¶å¯èƒ½ä¼šå¼•å…¥å»¶è¿Ÿï¼Œå°¤å…¶æ˜¯åœ¨é«˜å»¶è¿Ÿçš„ç½‘ç»œç¯å¢ƒä¸­ã€‚</li>
<li>ä¸»ä»å¤åˆ¶éœ€è¦æ­£ç¡®é…ç½®å’Œç›‘æ§ï¼Œä»¥ç¡®ä¿å¤åˆ¶çš„ä¸€è‡´æ€§å’Œæ€§èƒ½ã€‚</li>
</ul>
<p>MySQL ä¸»ä»å¤åˆ¶æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œå¯ä»¥æé«˜æ•°æ®åº“çš„å¯ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚é€šè¿‡åˆç†é…ç½®å’Œä½¿ç”¨ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å®ç°æ•°æ®çš„åŒæ­¥å’Œä¿æŠ¤ã€‚</p>
<p><strong>ä¸»åº“ç¯å¢ƒé…ç½®</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/mysql/mysql.conf.d/mysqld.cnf</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ </p>
<p>log-bin=mysql-bin.log # å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—<br>
server-id=100 # æœåŠ¡å™¨å”¯ä¸€id</p>
<p>![[/Untitled 3 93.png|Untitled 3 93.png]]</p>
<p>ä¸»åº“æ˜¯ubuntuçš„mysqlï¼Œ192.168.56.2</p>
<p>ä»åº“æ˜¯windowsçš„mysqlï¼Œ192.168.56.1</p>
<p>ä»åº“show slave status\G;æŸ¥çœ‹ç»“æœ</p>
<p>![[/Untitled 4 87.png|Untitled 4 87.png]]</p>
<p>STOP SLAVE;<br>
RESET SLAVE;<br>
CHANGE MASTER TO<br>
MASTER_HOST=â€˜192.168.40.128â€™,<br>
MASTER_USER=â€˜lorindaâ€™,<br>
MASTER_PASSWORD=â€˜123456â€™,<br>
MASTER_LOG_FILE=â€˜mysql-bin.000001â€™,<br>
MASTER_LOG_POS=27710;<br>
START SLAVE;<br>
show slave status\G</p>
<h3 id="è¯»å†™åˆ†ç¦»-2">è¯»å†™åˆ†ç¦»</h3>
<p>é¢å¯¹æ—¥ç›Šå¢åŠ çš„ç³»ç»Ÿè®¿é—®é‡ï¼Œæ•°æ®åº“çš„ååé‡é¢ä¸´ç€å·¨å¤§ç“¶é¢ˆã€‚å¯¹äºåŒä¸€æ—¶åˆ»æœ‰å¤§é‡å¹¶å‘è¯»æ“ä½œå’Œè¾ƒå°‘å†™æ“ä½œç±»å‹çš„åº”ç”¨ç³»ç»Ÿæ¥è¯´ï¼Œå°†æ•°æ®åº“æ‹†åˆ†ä¸ºä¸»åº“å’Œä»åº“ï¼Œ<strong>ä¸»åº“</strong>è´Ÿè´£å¤„ç†äº‹åŠ¡æ€§çš„<mark>å¢åˆ æ”¹</mark>æ“ä½œï¼Œ<strong>ä»åº“</strong>è´Ÿè´£å¤„ç†<mark>æŸ¥è¯¢</mark>æ“ä½œï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„é¿å…ç”±æ•°æ®æ›´æ–°å¯¼è‡´çš„è¡Œé”ï¼Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿçš„æŸ¥è¯¢æ€§èƒ½å¾—åˆ°æå¤§çš„æ”¹å–„ã€‚</p>
<p>![[/Untitled 5 83.png|Untitled 5 83.png]]</p>
<h3 id="Sharding-JDBC">Sharding-JDBC</h3>
<p>Sharding-JDBCå®šä½ä¸ºè½»é‡çº§Javaæ¡†æ¶ï¼Œåœ¨Javaçš„JDBCå±‚æä¾›çš„é¢å¤–æœåŠ¡ã€‚å®ƒä½¿ç”¨å®¢æˆ·ç«¯ç›´è¿æ•°æ®åº“ï¼Œä»¥jaråŒ…å½¢å¼æä¾›æœåŠ¡ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸ºå¢å¼ºç‰ˆçš„JDBCé©±åŠ¨ï¼Œå®Œå…¨å…¼å®¹JDBCå’Œå„ç§ORMæ¡†æ¶ã€‚ä½¿ç”¨Sharding-JDBCå¯ä»¥åœ¨ç¨‹åºä¸­è½»æ¾çš„å®ç°æ•°æ®åº“è¯»å†™åˆ†ç¦»ã€‚<br>
é€‚ç”¨äºä»»ä½•åŸºäºJDBCçš„ORMæ¡†æ¶ï¼Œå¦‚ï¼šJPAï¼ŒHibernateï¼ŒMybatisï¼ŒSpringJDBCTemplateæˆ–ç›´æ¥ä½¿ç”¨JDBCæ”¯æŒä»»ä½•ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“è¿æ¥æ± ï¼Œå¦‚ï¼šDBCPï¼ŒC3P0ï¼ŒBoneCPï¼ŒDruidï¼ŒHikariCPç­‰ã€‚æ”¯æŒä»»æ„å®ç°IDBCè§„èŒƒçš„æ•°æ®åº“ã€‚ç›®å‰æ”¯æŒMySQLï¼ŒOracleï¼ŒSQLServerï¼ŒPostgresQLä»¥åŠä»»ä½•éµå¾ªSQL92æ ‡å‡†çš„æ•°æ®åº“ã€‚<br>
<dependency></p>
<p><groupId>org.apache.shardingsphere</groupId></p>
<p><artifactId>sharding-jdbc-springboot-starter</artifactId></p>
<p><version>4.0,0-RCl</version></p>
</dependency>
<h3 id="è¯»å†™åˆ†ç¦»æ¡ˆä¾‹">è¯»å†™åˆ†ç¦»æ¡ˆä¾‹</h3>
<p>è¯»å†™åˆ†ç¦»æ­¥éª¤ï¼š</p>
<ul>
<li>
<p>å¯¼å…¥ Maven åæ ‡</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è¯»å†™åˆ†ç¦»ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shardingsphere<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>sharding-jdbc-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0-RC1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨é…ç½®æ–‡ä»¶é…ç½®è¯»å†™åˆ†ç¦»è§„åˆ™</p>
</li>
<li>
<p>åœ¨é…ç½®æ–‡ä»¶å…è®¸ bean å®šä¹‰è¦†ç›–é…ç½®é¡¹</p>
  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="string">\#åœ¨æ˜ å°„å®ä½“æˆ–è€…å±æ€§æ—¶ï¼Œå°†æ•°æ®åº“ä¸­è¡¨åå’Œå­—æ®µåä¸­çš„ä¸‹åˆ’çº¿å»æ‰ï¼ŒæŒ‰ç…§é©¼å³°å‘½åæ³•æ˜ å°„</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">ASSIGN_ID</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">shardingsphere:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">      <span class="attr">names:</span></span><br><span class="line">        <span class="string">master,slave</span></span><br><span class="line">      <span class="comment"># ä¸»æ•°æ®æº</span></span><br><span class="line">      <span class="attr">master:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:mysql://192.168.56.101:3306/rw?characterEncoding=utf-8</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">lorinda</span></span><br><span class="line">        <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="comment"># ä»æ•°æ®æº</span></span><br><span class="line">      <span class="attr">slave:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:mysql://192.168.56.1:3306/rw?characterEncoding=utf-8</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">lorinda</span></span><br><span class="line">        <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">masterslave:</span></span><br><span class="line">      <span class="comment"># è¯»å†™åˆ†ç¦»é…ç½®</span></span><br><span class="line">      <span class="attr">load-balance-algorithm-type:</span> <span class="string">round_robin</span> <span class="string">\#è½®è¯¢</span></span><br><span class="line">      <span class="comment"># æœ€ç»ˆçš„æ•°æ®æºåç§°</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">dataSource</span></span><br><span class="line">      <span class="comment"># ä¸»åº“æ•°æ®æºåç§°</span></span><br><span class="line">      <span class="attr">master-data-source-name:</span> <span class="string">master</span></span><br><span class="line">      <span class="comment"># ä»åº“æ•°æ®æºåç§°åˆ—è¡¨ï¼Œå¤šä¸ªé€—å·åˆ†éš”</span></span><br><span class="line">      <span class="attr">slave-data-source-names:</span> <span class="string">slave</span></span><br><span class="line">    <span class="attr">props:</span></span><br><span class="line">      <span class="attr">sql:</span></span><br><span class="line">        <span class="attr">show:</span> <span class="literal">true</span> <span class="string">\#å¼€å¯SQLæ˜¾ç¤ºï¼Œé»˜è®¤false</span></span><br><span class="line">  <span class="attr">main:</span></span><br><span class="line">    <span class="attr">allow-bean-definition-overriding:</span> <span class="literal">true</span> <span class="comment"># å…è®¸ bean å®šä¹‰è¦†ç›–é…ç½®é¡¹</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»">é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»</h3>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Spring é…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="comment"># å®šä¹‰åº”ç”¨åç§°ï¼Œå¯é€‰</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">delivery</span></span><br><span class="line"><span class="comment">#  datasource:</span></span><br><span class="line"><span class="comment">#    druid:</span></span><br><span class="line"><span class="comment">#      driver-class-name: com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment">#      # æ•°æ®åº“è¿æ¥ URLï¼ŒåŒ…æ‹¬æ—¶åŒºã€å­—ç¬¦ç¼–ç å’Œ SSL é…ç½®</span></span><br><span class="line"><span class="comment">#      url: jdbc:mysql://localhost:3306/delivery?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line"><span class="comment">#      username: root</span></span><br><span class="line"><span class="comment">#      password: 123456</span></span><br><span class="line">  <span class="comment">#      url: jdbc:mysql://192.168.168.55:3306/delivery?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line">  <span class="comment">#      username: lorinda</span></span><br><span class="line">  <span class="comment">#      password: sycyyds513</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">multipart:</span></span><br><span class="line">      <span class="string">\#é…ç½®å•ä¸ªæ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶</span></span><br><span class="line">      <span class="attr">max-file-size:</span> <span class="string">10MB</span></span><br><span class="line">      <span class="string">\#é…ç½®å•ä¸ªè¯·æ±‚æœ€å¤§å¤§å°çš„é™åˆ¶ï¼ˆä¸€æ¬¡è¯·æ±‚å¯ä»¥ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼‰</span></span><br><span class="line">      <span class="attr">max-request-size:</span> <span class="string">100MB</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="comment">#    password: root@123456</span></span><br><span class="line">    <span class="attr">database:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">time-to-live:</span> <span class="number">1800000</span> <span class="comment"># è®¾ç½®ç¼“å­˜æœ‰æ•ˆæœŸ30min</span></span><br><span class="line">  <span class="attr">shardingsphere:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">      <span class="attr">names:</span></span><br><span class="line">        <span class="string">master,slave</span></span><br><span class="line">      <span class="comment"># ä¸»æ•°æ®æº</span></span><br><span class="line">      <span class="attr">master:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:mysql://192.168.56.101:3306/delivery?characterEncoding=utf-8</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">lorinda</span></span><br><span class="line">        <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="comment"># ä»æ•°æ®æº</span></span><br><span class="line">      <span class="attr">slave:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:mysql://192.168.56.1:3306/delivery?characterEncoding=utf-8</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">lorinda</span></span><br><span class="line">        <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">masterslave:</span></span><br><span class="line">      <span class="comment"># è¯»å†™åˆ†ç¦»é…ç½®</span></span><br><span class="line">      <span class="attr">load-balance-algorithm-type:</span> <span class="string">round_robin</span> <span class="string">\#è½®è¯¢</span></span><br><span class="line">      <span class="comment"># æœ€ç»ˆçš„æ•°æ®æºåç§°</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">dataSource</span></span><br><span class="line">      <span class="comment"># ä¸»åº“æ•°æ®æºåç§°</span></span><br><span class="line">      <span class="attr">master-data-source-name:</span> <span class="string">master</span></span><br><span class="line">      <span class="comment"># ä»åº“æ•°æ®æºåç§°åˆ—è¡¨ï¼Œå¤šä¸ªé€—å·åˆ†éš”</span></span><br><span class="line">      <span class="attr">slave-data-source-names:</span> <span class="string">slave</span></span><br><span class="line">    <span class="attr">props:</span></span><br><span class="line">      <span class="attr">sql:</span></span><br><span class="line">        <span class="attr">show:</span> <span class="literal">true</span> <span class="string">\#å¼€å¯SQLæ˜¾ç¤ºï¼Œé»˜è®¤false</span></span><br><span class="line">  <span class="attr">main:</span></span><br><span class="line">    <span class="attr">allow-bean-definition-overriding:</span> <span class="literal">true</span> <span class="comment"># å…è®¸ bean å®šä¹‰è¦†ç›–é…ç½®é¡¹</span></span><br><span class="line"><span class="comment"># MyBatis-Plus é…ç½®</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="string">\#åœ¨æ˜ å°„å®ä½“æˆ–è€…å±æ€§æ—¶ï¼Œå°†æ•°æ®åº“ä¸­è¡¨åå’Œå­—æ®µåä¸­çš„ä¸‹åˆ’çº¿å»æ‰ï¼ŒæŒ‰ç…§é©¼å³°å‘½åæ³•æ˜ å°„</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span> <span class="comment"># é…ç½® MyBatis çš„æ—¥å¿—è¾“å‡ºï¼Œæ‰“å°åˆ°æ§åˆ¶å°</span></span><br><span class="line">  <span class="comment"># å…¨å±€é…ç½®</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">ASSIGN_ID</span> <span class="comment"># æŒ‡å®š ID ç±»å‹ä¸ºè‡ªåŠ¨å¢é•¿</span></span><br><span class="line"><span class="attr">delivery:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">D:\86159\javaweb\delivery-resources</span></span><br></pre></td></tr></table></figure>
<h2 id="Nginx">Nginx</h2>
<p>Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„Web æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶(IMAP/POP3)ä»£ç†æœåŠ¡å™¨ã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œ<mark>å¹¶å‘</mark>èƒ½åŠ›å¼ºï¼Œäº‹å®ä¸Šnginxçš„å¹¶å‘èƒ½åŠ›åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°è¾ƒå¥½ï¼Œä¸­å›½å¤§é™†ä½¿ç”¨nginxçš„ç½‘ç«™æœ‰ï¼šç™¾åº¦ã€äº¬ä¸œã€æ–°æµªã€ç½‘æ˜“ã€è…¾è®¯ã€æ·˜å®ç­‰ã€‚<br>
Nginxæ˜¯ç”±ä¼Šæˆˆå°”Â·èµ›ç´¢è€¶å¤«ä¸ºä¿„ç½—æ–¯è®¿é—®é‡ç¬¬äºŒçš„Rambler.ruç«™ç‚¹å¼€å‘çš„ï¼Œç¬¬ä¸€ä¸ªå…¬å¼€ç‰ˆæœ¬8.1.0å‘å¸ƒäº2004å¹´10æœˆ4æ—¥ã€‚<br>
å®˜ç½‘:<br>
<a target="_blank" rel="noopener" href="https://nginx.org/">https://nginx.org/</a></p>
<p>![[b899245705904a58a77ae5db7a6bfd25.png]]</p>
<h3 id="Nginxå‘½ä»¤">Nginxå‘½ä»¤</h3>
<p>![[/Untitled 6 77.png|Untitled 6 77.png]]</p>
<h3 id="æ£€æŸ¥é…ç½®æ–‡ä»¶æ­£ç¡®æ€§"><strong>æ£€æŸ¥é…ç½®æ–‡ä»¶æ­£ç¡®æ€§</strong></h3>
<p>åœ¨å¯åŠ¨ Nginx æœåŠ¡ä¹‹å‰ï¼Œå¯ä»¥å…ˆæ£€æŸ¥ä¸€ä¸‹ conf/nginx.conf æ–‡ä»¶é…ç½®çš„æ˜¯å¦æœ‰é”™è¯¯ï¼Œè¿›å…¥ nginx ç›®å½•ä¸‹çš„ sbin ç›®å½•åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">./nginx</span> <span class="string">-t</span></span><br></pre></td></tr></table></figure>
<p>cd /usr/local/nginx/sbin/</p>
<p>å¯åŠ¨ï¼š./nginx</p>
<p>/usr/local/nginx/sbin/nginx</p>
<p>å¯åŠ¨åé…ç½®å®Œé˜²ç«å¢™ï¼Œåœ¨æµè§ˆå™¨è®¿é—® ip åœ°å€å³å¯çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š</p>
<p>![[/Untitled 7 73.png|Untitled 7 73.png]]</p>
<p>å¯åŠ¨åå¯ä»¥æŸ¥çœ‹ nginx è¿›ç¨‹ï¼šps -ef | grep nginx</p>
<p>åœæ­¢ï¼š./nginx -s stop</p>
<p>å¯åŠ¨åï¼Œåœ¨ logs ç›®å½•ä¸‹ä¼šç”Ÿæˆ nginx.pid æ–‡ä»¶ï¼Œé‡Œé¢è®°å½•çš„æ˜¯å½“å‰ nginx ç¨‹åºçš„ pidï¼Œåœæ­¢åä¼šæ¶ˆå¤±</p>
<p>![[/Untitled 8 68.png|Untitled 8 68.png]]</p>
<p>å½“ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶åï¼Œéœ€è¦é‡æ–°åŠ è½½æ‰èƒ½ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼š./nginx -s reload</p>
<p>ä¸ºäº†å¯ä»¥åœ¨ä¸»ç›®å½•ä¸‹æ‰§è¡Œnginxå‘½ä»¤</p>
<p>ä¿®æ”¹ /etc/profile æ–‡ä»¶ï¼š</p>
<p><code>sudo nano /etc/profile</code></p>
<p>åœ¨æ–‡ä»¶çš„æœ«å°¾æ·»åŠ ï¼šexport PATH=/usr/local/nginx/sbin:$JAVA_HOME/bin:$PATH<br>
é‡æ–°åŠ è½½<br>
<code>/etc/profile</code>ï¼Œä½¿æ›´æ”¹ç”Ÿæ•ˆï¼šsource /etc/profile</p>
<p>éªŒè¯<code>PATH</code>å˜é‡æ˜¯å¦å·²æ›´æ–°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼šecho $PATH</p>
<p>å¯åŠ¨ï¼šnginx</p>
<p>åœæ­¢ï¼šnginx -s stop</p>
<h3 id="Nginxé…ç½®æ–‡ä»¶ç»“æ„">Nginxé…ç½®æ–‡ä»¶ç»“æ„</h3>
<ul>
<li>
<p>å…¨å±€å—ï¼šä»å¼€å§‹åˆ° events ä¹‹å‰ã€‚å’ŒNginxè¿è¡Œç›¸å…³çš„å…¨å±€é…ç½®ï¼Œé€šå¸¸åŒ…å«äº†å½±å“æ•´ä¸ª Nginx æœåŠ¡å™¨çš„æŒ‡ä»¤ã€‚è¿™ä¸ªå—æ²¡æœ‰ç‰¹å®šçš„åç§°ï¼Œå®ƒä¸€ç›´æŒç»­åˆ° events å—ä¹‹å‰ã€‚å…¨å±€å—ä¸­å¸¸è§çš„æŒ‡ä»¤åŒ…æ‹¬é…ç½®æ–‡ä»¶çš„åŒ…å«æŒ‡ä»¤ï¼ˆ<code>include</code>ï¼‰ã€å®šä¹‰è¿è¡ŒNginxçš„ç”¨æˆ·çš„æŒ‡ä»¤ï¼ˆ<code>user</code>ï¼‰ã€å·¥ä½œç›®å½•ï¼ˆ<code>pid</code>ï¼‰ã€æ—¥å¿—æ–‡ä»¶çš„ä½ç½®ï¼ˆ<code>error_log</code>ï¼‰ç­‰ã€‚</p>
</li>
<li>
<p>Eventså—ï¼šå’Œç½‘ç»œè¿æ¥ç›¸å…³çš„é…ç½®ã€‚å®šä¹‰äº†å½±å“æœåŠ¡å™¨æˆ–ä¸å®¢æˆ·ç«¯è¿æ¥ç›¸å…³çš„é…ç½®ã€‚å®ƒé€šå¸¸åŒ…æ‹¬å·¥ä½œè¿›ç¨‹çš„è¿æ¥æ•°ã€å¤šçº¿ç¨‹é…ç½®ã€äº‹ä»¶é©±åŠ¨æ¨¡å‹ç­‰è®¾ç½®ã€‚</p>
</li>
<li>
<p>Httpå—ï¼šä»£ç†ã€ç¼“å­˜ã€æ—¥å¿—è®°å½•ã€è™šæ‹Ÿä¸»æœºé…ç½®ã€‚è¿™ä¸ªå—æ˜¯é…ç½®æ–‡ä»¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ä¹‹ä¸€ï¼Œå®ƒåŒ…å«äº†å®šä¹‰å¦‚ä½•å¤„ç†HTTPè¯·æ±‚çš„æŒ‡ä»¤ã€‚Httpå—å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡å™¨å—ï¼ˆserver blockï¼‰ï¼Œæ¯ä¸ªæœåŠ¡å™¨å—å®šä¹‰äº†ç‰¹å®šçš„è™šæ‹Ÿä¸»æœºæˆ–æœåŠ¡å™¨çš„é…ç½®ã€‚</p>
<ul>
<li>httpå…¨å±€å—</li>
<li>Serverå—
<ul>
<li>Serverå…¨å±€å—</li>
<li>locationå—</li>
</ul>
</li>
</ul>
<p>æ³¨æ„ï¼šhttpå—ä¸­å¯ä»¥é…ç½®å¤šä¸ªServerå—ï¼Œæ¯ä¸ªServerå—ä¸­å¯ä»¥é…ç½®å¤šä¸ªlocationå—ã€‚</p>
</li>
</ul>
<p>æ¯ä¸ªæœåŠ¡å™¨å—ï¼ˆserver blockï¼‰å¯ä»¥åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>ListenæŒ‡ä»¤</strong>ï¼šæŒ‡å®šæœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å’Œåè®®ã€‚</li>
<li><strong>Server_nameæŒ‡ä»¤</strong>ï¼šå®šä¹‰å½“å‰æœåŠ¡å™¨å—å“åº”çš„åŸŸåã€‚</li>
<li><strong>Locationå—</strong>ï¼šå®šä¹‰è¯·æ±‚çš„å¤„ç†è§„åˆ™ï¼Œå¯ä»¥æ ¹æ®URLè·¯å¾„ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰åŒ¹é…è¯·æ±‚ï¼Œå¹¶å®šä¹‰ç›¸åº”çš„å¤„ç†æ–¹æ³•ï¼Œå¦‚ä»£ç†è®¾ç½®ã€é‡å®šå‘ã€é™æ€æ–‡ä»¶æœåŠ¡ç­‰ã€‚</li>
</ul>
<p>![[1f06903435774f0c80e4f8c0e43bf0b5.png]]</p>
<p>cd /usr/local/nginx/conf/</p>
<p>cat nginx.conf</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">// å…¨å±€å—</span><br><span class="line">\#user  nobody;</span><br><span class="line">worker_processes  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">\#error_log  logs/error.log;</span><br><span class="line">\#error_log  logs/error.log  notice;</span><br><span class="line">\#error_log  logs/error.log  info;</span><br><span class="line"></span><br><span class="line">\#pid        logs/nginx.pid;</span><br><span class="line"></span><br><span class="line">// Eventså—</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// httpå—</span><br><span class="line">http &#123;</span><br><span class="line">		// httpå…¨å±€å¿«</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    \#log_format  main  &#x27;$remote_addr - $remote_user [$time_local] <span class="string">&quot;$request&quot;</span> &#x27;</span><br><span class="line">    #                  &#x27;$status $body_bytes_sent <span class="string">&quot;$http_referer&quot;</span> &#x27;</span><br><span class="line">    #                  &#x27;<span class="string">&quot;$http_user_agent&quot;</span> <span class="string">&quot;$http_x_forwarded_for&quot;</span>&#x27;;</span><br><span class="line"></span><br><span class="line">    \#access_log  logs/access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    \#tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    \#keepalive_timeout  <span class="number">0</span>;</span><br><span class="line">    keepalive_timeout  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    \#gzip  on;</span><br><span class="line"></span><br><span class="line">		// Severå—</span><br><span class="line">    server &#123;</span><br><span class="line">			   // Severå…¨å±€å—</span><br><span class="line">        listen       <span class="number">80</span>;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"></span><br><span class="line">        \#charset koi8-r;</span><br><span class="line"></span><br><span class="line">        \#access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">				// locationå—</span><br><span class="line">        location / &#123;</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        \#error_page  <span class="number">404</span>              /<span class="number">404.</span>html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /<span class="number">50</span>x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /<span class="number">50</span>x.html;</span><br><span class="line">        location = /<span class="number">50</span>x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # proxy the PHP scripts to Apache listening on <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">80</span></span><br><span class="line">        #</span><br><span class="line">        \#location ~ \.php$ &#123;</span><br><span class="line">        #    proxy_pass   http://<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>;</span><br><span class="line">        #&#125;</span><br><span class="line"></span><br><span class="line">        # pass the PHP scripts to FastCGI server listening on <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">9000</span></span><br><span class="line">        #</span><br><span class="line">        \#location ~ \.php$ &#123;</span><br><span class="line">        #    root           html;</span><br><span class="line">        #    fastcgi_pass   <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">9000</span>;</span><br><span class="line">        #    fastcgi_index  index.php;</span><br><span class="line">        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span><br><span class="line">        #    include        fastcgi_params;</span><br><span class="line">        #&#125;</span><br><span class="line"></span><br><span class="line">        # deny access to .htaccess files, <span class="keyword">if</span> Apache&#x27;s document root</span><br><span class="line">        # concurs <span class="built_in">with</span> nginx&#x27;s one</span><br><span class="line">        #</span><br><span class="line">        \#location ~ /\.ht &#123;</span><br><span class="line">        #    deny  all;</span><br><span class="line">        #&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # another virtual host <span class="built_in">using</span> mix of IP-, name-, and port-based configuration</span><br><span class="line">    #</span><br><span class="line">    \#server &#123;</span><br><span class="line">    #    listen       <span class="number">8000</span>;</span><br><span class="line">    #    listen       somename:<span class="number">8080</span>;</span><br><span class="line">    #    server_name  somename  alias  another.alias;</span><br><span class="line"></span><br><span class="line">    #    location / &#123;</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    &#125;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # HTTPS server</span><br><span class="line">    #</span><br><span class="line">    \#server &#123;</span><br><span class="line">    #    listen       <span class="number">443</span> ssl;</span><br><span class="line">    #    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    #    ssl_certificate      cert.pem;</span><br><span class="line">    #    ssl_certificate_key  cert.key;</span><br><span class="line"></span><br><span class="line">    #    ssl_session_cache    shared:SSL:<span class="number">1</span>m;</span><br><span class="line">    #    ssl_session_timeout  <span class="number">5</span>m;</span><br><span class="line"></span><br><span class="line">    #    ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line">    #    ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">    #    location / &#123;</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    &#125;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Nginxå…·ä½“åº”ç”¨">Nginxå…·ä½“åº”ç”¨</h3>
<ol>
<li>
<p><strong>éƒ¨ç½²é™æ€èµ„æº</strong></p>
<p>Nginxå¯ä»¥ä½œä¸ºé™æ€webæœåŠ¡å™¨æ¥éƒ¨ç½²é™æ€èµ„æºã€‚<mark>é™æ€èµ„æº</mark>æŒ‡åœ¨æœåŠ¡ç«¯çœŸå®å­˜åœ¨å¹¶ä¸”èƒ½å¤Ÿç›´æ¥å±•ç¤ºçš„ä¸€äº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¸¸è§çš„htmlé¡µé¢ã€cssæ–‡ä»¶ã€jsæ–‡ä»¶ã€å›¾ç‰‡ã€è§†é¢‘ç­‰èµ„æºã€‚ç›¸å¯¹äºTomcatï¼ŒNginxå¤„ç†é™æ€èµ„æºçš„èƒ½åŠ›æ›´åŠ é«˜æ•ˆï¼Œæ‰€ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä¸€èˆ¬éƒ½ä¼šå°†é™æ€èµ„æºéƒ¨ç½²åˆ°Nginxä¸­ã€‚å°†é™æ€èµ„æºéƒ¨ç½²åˆ°Nginxéå¸¸ç®€å•ï¼Œåªéœ€è¦å°†æ–‡ä»¶å¤åˆ¶åˆ°Nginxå®‰è£…ç›®å½•ä¸‹çš„htmlç›®å½•ä¸­å³å¯ã€‚</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  // Severå…¨å±€å—</span><br><span class="line">  listen 80; # ç›‘å¬ç«¯å£</span><br><span class="line">  server_name  localhost; # æœåŠ¡å™¨åç§°</span><br><span class="line"></span><br><span class="line">  // locationå—</span><br><span class="line">  location / &#123; # åŒ¹é…å®¢æˆ·ç«¯è¯·æ±‚url</span><br><span class="line">      root   html; # æŒ‡å®šé™æ€èµ„æºæ ¹ç›®å½•</span><br><span class="line">      index  index.html index.htm; # æŒ‡å®šé»˜è®¤é¦–é¡µ</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>cp hello.html /usr/local/nginx/html</p>
<p><a target="_blank" rel="noopener" href="http://192.168.56.101/hello.html">http://192.168.56.101/hello.html</a></p>
<ol>
<li><strong>åå‘ä»£ç†</strong></li>
</ol>
<p>æ­£å‘ä»£ç†ï¼š</p>
<p>æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€è¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ­£å‘ä»£ç†çš„å…¸å‹ç”¨é€”æ˜¯ä¸ºåœ¨é˜²ç«å¢™å†…çš„å±€åŸŸç½‘å®¢æˆ·ç«¯æä¾›è®¿é—®Internetçš„é€”å¾„ã€‚æ­£å‘ä»£ç†ä¸€èˆ¬æ˜¯åœ¨<strong>å®¢æˆ·ç«¯</strong>è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚ï¼Œæœ€ç»ˆè®¿é—®åˆ°ç›®æ ‡æœåŠ¡å™¨</p>
<p>![[/Untitled 9 65.png|Untitled 9 65.png]]</p>
<p>åå‘ä»£ç†æœåŠ¡å™¨ä½äºç”¨æˆ·ä¸ç›®æ ‡æœåŠ¡å™¨ä¹‹é—´ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±ç›¸å½“äº<mark>ç›®æ ‡æœåŠ¡å™¨</mark>ï¼Œå³ç”¨æˆ·ç›´æ¥è®¿é—®åå‘ä»£ç†æœåŠ¡å™¨å°±å¯ä»¥è·å¾—ç›®æ ‡æœåŠ¡å™¨çš„èµ„æºï¼Œåå‘ä»£ç†æœåŠ¡å™¨è´Ÿè´£å°†è¯·æ±‚è½¬å‘ç»™ç›®æ ‡æœåŠ¡å™¨ã€‚ç”¨æˆ·ä¸éœ€è¦çŸ¥é“ç›®æ ‡æœåŠ¡å™¨çš„åœ°å€ï¼Œä¹Ÿæ— é¡»åœ¨ç”¨æˆ·ç«¯ä½œä»»ä½•è®¾å®šã€‚</p>
<p>Nginx å¯ä»¥æ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚å¹¶è½¬å‘åˆ°åç«¯æœåŠ¡å™¨ä¸Šï¼Œç„¶åå†å°†åç«¯æœåŠ¡å™¨çš„å“åº”è½¬å‘å›å®¢æˆ·ç«¯ã€‚</p>
<p>![[/Untitled 10 61.png|Untitled 10 61.png]]</p>
<ul>
<li><code>ä¸¾ä¸ªä¾‹å­</code>
<ul>
<li>æ­£å‘ä»£ç†ï¼šä½ è®©èˆå‹å»ç»™ä½ å¸¦ä¸‰æ¥¼å–çš„ç…é¥¼ï¼ˆä½ æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªä¸‰æ¥¼çš„ç…é¥¼ï¼‰</li>
<li>åå‘ä»£ç†ï¼šä½ è®©èˆå‹å»ç»™ä½ ä¹°ç…é¥¼ï¼ˆä½ æœ€ç»ˆåªä¼šå¾—åˆ°ä¸€ä¸ªç…é¥¼ï¼Œä½†ä½ ä¸çŸ¥é“ç…é¥¼æ˜¯å“ªå„¿å–çš„ï¼‰</li>
<li>å’Œæ­£å‘ä»£ç†ä¸åŒï¼Œåå‘ä»£ç†ç›¸å½“äºæ˜¯ä¸ºç›®æ ‡æœåŠ¡å™¨å·¥ä½œçš„ï¼Œå½“ä½ å»è®¿é—®æŸä¸ªç½‘ç«™æ—¶ï¼Œä½ ä»¥ä¸ºä½ è®¿é—®é—®çš„æ˜¯ç›®æ ‡æœåŠ¡å™¨ï¼Œå…¶å®ä¸ç„¶ï¼Œå½“ä½ è®¿é—®æ—¶ï¼Œå…¶å®æ˜¯ç”±ä¸€ä¸ªä»£ç†æœåŠ¡å™¨å»æ¥æ”¶ä½ çš„è¯·æ±‚ï¼Œæ­£å‘ä»£ç†ä¸åå‘ä»£ç†æœ€ç®€å•çš„åŒºåˆ«ï¼š æ­£å‘ä»£ç†éšè—çš„æ˜¯ç”¨æˆ·ï¼ˆå–ç…é¥¼çš„ä¸çŸ¥é“æ˜¯ä½ è¦ä¹°ï¼‰ï¼Œåå‘ä»£ç†éšè—çš„æ˜¯æœåŠ¡å™¨ï¼ˆä½ ä¸çŸ¥é“ç…é¥¼æ˜¯è°å–çš„ï¼‰ã€‚</li>
<li>æ­£å‘ä»£ç†ä¾§é‡çš„æ˜¯ç”¨æˆ·ï¼Œç”¨æˆ·çŸ¥é“å¯ä»¥é€šè¿‡ä»£ç†è®¿é—®æ— æ³•è®¿é—®çš„èµ„æºï¼Œè€Œåå‘ä»£ç†ä¾§é‡ç‚¹åœ¨æœåŠ¡å™¨è¿™è¾¹ï¼Œç”¨æˆ·å‹æ ¹ä¸çŸ¥é“è‡ªå·±è®¿é—®çš„æ˜¯èµ„æºæ—¶é€šè¿‡ä»£ç†äººå»è½¬å‘çš„ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       82;  # ç›‘å¬ç«¯å£82</span><br><span class="line">    server_name  localhost;  # æœåŠ¡å™¨çš„åŸŸåæ˜¯localhostï¼ˆå¯ä»¥æ˜¯å…·ä½“çš„åŸŸåæˆ–IPï¼‰</span><br><span class="line"></span><br><span class="line">    location / &#123;  # å¤„ç†æ ¹è·¯å¾„ä¸‹çš„æ‰€æœ‰è¯·æ±‚</span><br><span class="line">        proxy_pass http://192.168.56.1:8080;  # å°†è¯·æ±‚è½¬å‘åˆ°http://192.168.56.1:8080</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>å®¢æˆ·ç«¯è¯·æ±‚</strong>:
<ul>
<li>å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯ï¼‰å‘ NGINX æœåŠ¡å™¨çš„ <code>82</code> ç«¯å£å‘é€ HTTP è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œå®¢æˆ·ç«¯è®¿é—® <code>http://localhost:82/</code>ã€‚</li>
</ul>
</li>
<li><strong>NGINX æ¥æ”¶è¯·æ±‚</strong>:
<ul>
<li>NGINX åœ¨ <code>82</code> ç«¯å£ç›‘å¬åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä¸”è¯·æ±‚çš„åŸŸåæ˜¯ <code>localhost</code>ï¼Œå› æ­¤å®ƒåŒ¹é…åˆ°ä¸Šé¢çš„ <code>server</code> é…ç½®ã€‚</li>
</ul>
</li>
<li><strong>è¯·æ±‚è½¬å‘åˆ°åç«¯</strong>:
<ul>
<li>æ ¹æ® <code>location /</code> çš„é…ç½®ï¼ŒNGINX ä¼šå°†å®¢æˆ·ç«¯è¯·æ±‚è½¬å‘åˆ° <code>proxy_pass</code> æŒ‡å®šçš„åœ°å€ï¼Œå³ <code>http://192.168.56.1:8080</code>ã€‚</li>
<li>ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæœ¬å‘å¾€ <code>localhost:82</code> çš„è¯·æ±‚ï¼ŒNGINX ä¼šåœ¨å†…éƒ¨é€šè¿‡ä»£ç†è½¬å‘åˆ° <code>192.168.56.1:8080</code> æœåŠ¡å™¨ã€‚</li>
</ul>
</li>
<li><strong>åç«¯å“åº”</strong>:
<ul>
<li>åç«¯æœåŠ¡å™¨ï¼ˆåœ¨è¿™é‡Œæ˜¯ <code>192.168.56.1:8080</code>ï¼‰æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šå¤„ç†å¹¶è¿”å›ä¸€ä¸ª HTTP å“åº”ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ª HTML é¡µé¢ã€JSON æ•°æ®æˆ–å…¶ä»–ç±»å‹çš„å†…å®¹ã€‚</li>
</ul>
</li>
<li><strong>NGINX è½¬å‘å“åº”</strong>:
<ul>
<li>åç«¯æœåŠ¡å™¨å¤„ç†å®Œæˆå¹¶è¿”å›å“åº”åï¼ŒNGINX ä¼šæ¥æ”¶åˆ°è¿™ä¸ªå“åº”ï¼Œå¹¶å°†å…¶è½¬å‘å›å®¢æˆ·ç«¯ã€‚</li>
<li>å®¢æˆ·ç«¯æ”¶åˆ°çš„å°±æ˜¯åç«¯æœåŠ¡å™¨çš„å“åº”å†…å®¹ï¼Œä½†è¿™ä¸ªå“åº”çœ‹èµ·æ¥åƒæ˜¯æ¥è‡ª NGINX æœåŠ¡å™¨ï¼Œå› ä¸ºè¯·æ±‚ç»è¿‡äº†åå‘ä»£ç†ã€‚</li>
</ul>
</li>
</ul>
<p>nginx -s reload</p>
<ol>
<li>
<p><strong>è´Ÿè½½å‡è¡¡</strong></p>
<p>æ—©æœŸçš„ç½‘ç«™æµé‡å’Œä¸šåŠ¡åŠŸèƒ½éƒ½æ¯”è¾ƒç®€å•ï¼Œå•å°æœåŠ¡å™¨å°±å¯ä»¥æ»¡è¶³åŸºæœ¬éœ€æ±‚ï¼Œä½†æ˜¯éšç€äº’è”ç½‘çš„å‘å±•ï¼Œä¸šåŠ¡æµé‡è¶Šæ¥è¶Šå¤§å¹¶ä¸”ä¸šåŠ¡é€»è¾‘ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ï¼Œå•å°æœåŠ¡å™¨çš„æ€§èƒ½åŠå•ç‚¹æ•…éšœé—®é¢˜å°±å‡¸æ˜¾å‡ºæ¥äº†ï¼Œå› æ­¤éœ€è¦å¤šå°æœåŠ¡å™¨ç»„æˆåº”ç”¨é›†ç¾¤ï¼Œè¿›è¡Œæ€§èƒ½çš„æ°´å¹³æ‰©å±•ä»¥åŠé¿å…å•ç‚¹æ•…éšœå‡ºç°ã€‚</p>
<ul>
<li>
<p>åº”ç”¨é›†ç¾¤ï¼šå°†åŒä¸€åº”ç”¨éƒ¨ç½²åˆ°å¤šå°æœºå™¨ä¸Šï¼Œç»„æˆåº”ç”¨é›†ç¾¤ï¼Œæ¥æ”¶è´Ÿè½½å‡è¡¡å™¨åˆ†å‘çš„è¯·æ±‚ï¼Œè¿›è¡Œä¸šåŠ¡å¤„ç†å¹¶è¿”å›å“åº”æ•°æ®</p>
</li>
<li>
<p>è´Ÿè½½å‡è¡¡å™¨ï¼šå°†ç”¨æˆ·è¯·æ±‚æ ¹æ®å¯¹åº”çš„è´Ÿè½½å‡è¡¡ç®—æ³•åˆ†å‘åˆ°åº”ç”¨é›†ç¾¤ä¸­çš„ä¸€å°æœåŠ¡å™¨è¿›è¡Œå¤„ç†</p>
<p>![[2541558bcba14118aadd1af0b152fd26.png]]</p>
</li>
</ul>
<p>æ­¤å¤„çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œæˆ‘ä»¬å°†ä¼šä½¿ç”¨Nginxæ¥å®ç°ï¼Œè€ŒNginxçš„è´Ÿè½½å‡è¡¡æ˜¯åŸºäºåå‘ä»£ç†çš„ï¼Œåªä¸è¿‡æ­¤æ—¶æ‰€ä»£ç†çš„æœåŠ¡å™¨ä¸æ˜¯ä¸€å°ï¼Œè€Œæ˜¯å¤šå°ã€‚</p>
<p><strong>å°†èµ„æ–™ä¸­æä¾›çš„ä¸¤ä¸ªjaråŒ…ï¼Œä¸Šä¼ åˆ°192.168.200.201æœåŠ¡å™¨ä¸Š</strong></p>
<blockquote>
<p>æˆ‘ä»¬åœ¨æµ‹è¯•æ—¶ï¼Œå¹¶æ²¡æœ‰é‚£ä¹ˆå¤šæœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸­å¯åŠ¨å¤šä¸ªæœåŠ¡ï¼Œè¿è¡Œåœ¨ä¸åŒçš„ç«¯å£å·ä¸Šè¿›è¡Œæµ‹è¯•ã€‚</p>
</blockquote>
<p><strong>è¿è¡Œä¸Šä¼ ä¸Šæ¥çš„ä¸¤ä¸ªjaråŒ…ï¼Œè¿è¡Œç«¯å£åˆ†åˆ«æ˜¯ 8080 ï¼Œ 8081</strong></p>
<p>ç”±äºæˆ‘ä»¬æ‰§è¡Œ java -jar æŒ‡ä»¤ä¼šå ç”¨å‰å°çª—å£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¼€å¯ä¸¤ä¸ªçª—å£è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><strong>åœ¨nginxä¸­é…ç½®è´Ÿè½½å‡è¡¡</strong></p>
<p>æ‰“å¼€nginxçš„é…ç½®æ–‡ä»¶nginx.confå¹¶å¢åŠ å¦‚ä¸‹é…ç½®:</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\#upstreamæŒ‡ä»¤å¯ä»¥å®šä¹‰ä¸€ç»„æœåŠ¡å™¨</span><br><span class="line">upstream targetserver&#123;</span><br><span class="line">    server 192.168.138.101:8080;</span><br><span class="line">    server 192.168.138.101:8081;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen       8080;</span><br><span class="line">    server_name  localhost;</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://targetserver;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>![[eef89e406cc54bcbb9cff35fd25f29e9.png]]</p>
<p>nginx -s reload</p>
<p>æµ‹è¯•æ—¶,æˆ‘ä»¬ç›´æ¥è®¿é—®nginxçš„8080ç«¯å£(<a target="_blank" rel="noopener" href="http://192.168.200.200:8080">http://192.168.200.200:8080</a>), æ­¤æ—¶nginxä¼šæ ¹æ®<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AD%96%E7%95%A5&amp;spm=1001.2101.3001.7020">è´Ÿè½½å‡è¡¡ç­–ç•¥</a>,å°†è¯·æ±‚è½¬å‘åˆ°åé¢çš„ä¸¤å°æœåŠ¡å™¨ã€‚</p>
<p>åœ¨ä¸Šè¿°çš„æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°è¯·æ±‚å‡è¡¡çš„è½¬å‘åˆ°äº†8080å’Œ8081ï¼Œå› ä¸ºæ¨¡å¼çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æ˜¯è½®è¯¢ã€‚</p>
<p>Nginx è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>åç§°</td>
<td>è¯´æ˜</td>
<td>ç‰¹ç‚¹</td>
</tr>
<tr>
<td>è½®è¯¢</td>
<td>é»˜è®¤æ–¹å¼</td>
<td>é¡ºåºåˆ†é…è¯·æ±‚ï¼Œç®€å•æ— æƒé‡</td>
</tr>
<tr>
<td>weight</td>
<td>æƒé‡æ–¹å¼</td>
<td>æ ¹æ®æƒé‡åˆ†å‘è¯·æ±‚ï¼Œæƒé‡å¤§çš„æœåŠ¡å™¨åˆ†é…åˆ°æ›´å¤šè¯·æ±‚</td>
</tr>
<tr>
<td>ip_hash</td>
<td>ä¾æ® IP åˆ†é…æ–¹å¼</td>
<td>é€šè¿‡å®¢æˆ·ç«¯ IP è®¡ç®— hash å€¼ï¼Œç›¸åŒ IP çš„è¯·æ±‚æ€»æ˜¯å‘é€åˆ°åŒä¸€æœåŠ¡å™¨</td>
</tr>
<tr>
<td>least_conn</td>
<td>ä¾æ®æœ€å°‘è¿æ¥æ–¹å¼</td>
<td>è¯·æ±‚ä¼˜å…ˆè½¬å‘åˆ°å½“å‰è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨</td>
</tr>
<tr>
<td>url_hash</td>
<td>ä¾æ® URL åˆ†é…æ–¹å¼</td>
<td>æ ¹æ®è¯·æ±‚ URL çš„ hash å€¼åˆ†é…è¯·æ±‚ï¼Œç›¸åŒ URL æ€»æ˜¯å‘é€åˆ°åŒä¸€æœåŠ¡å™¨</td>
</tr>
<tr>
<td>fair</td>
<td>ä¾æ®å“åº”æ—¶é—´æ–¹å¼</td>
<td>ä¼˜å…ˆåˆ†é…è¯·æ±‚ç»™å¹³å‡å“åº”æ—¶é—´è¾ƒçŸ­çš„æœåŠ¡å™¨</td>
</tr>
</tbody>
</table>
<p>è¯·æ³¨æ„ï¼Œ<code>fair</code> ç­–ç•¥éœ€è¦åœ¨ Nginx é…ç½®æ–‡ä»¶ä¸­å®šä¹‰è‡ªå®šä¹‰çš„è´Ÿè½½å‡è¡¡æ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸æ˜¯ Nginx é»˜è®¤å†…ç½®çš„ç­–ç•¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå¦‚ <code>ngx_http_upstream_fair_module</code>ï¼Œæ¥å®ç°åŸºäºå“åº”æ—¶é—´çš„è´Ÿè½½å‡è¡¡ã€‚å…¶ä»–åˆ—å‡ºçš„ç­–ç•¥éƒ½æ˜¯ Nginx å®˜æ–¹æ”¯æŒçš„å†…ç½®ç­–ç•¥ã€‚</p>
<p>æƒé‡çš„é…ç½®ï¼š</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\#upstreamæŒ‡ä»¤å¯ä»¥å®šä¹‰ä¸€ç»„æœåŠ¡å™¨</span><br><span class="line">upstream targetserver&#123;</span><br><span class="line">    server 192.168.200.201:8080 weight=10;</span><br><span class="line">    server 192.168.200.201:8081 weight=5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°é…ç½®çš„weightæƒé‡æ˜¯ç›¸å¯¹çš„ï¼Œåœ¨ä¸Šè¿°çš„é…ç½®ä¸­ï¼Œæ•ˆæœå°±æ˜¯ï¼Œåœ¨å¤§æ•°æ®é‡çš„è¯·æ±‚ä¸‹ï¼Œæœ€ç»ˆ8080æ¥æ”¶çš„è¯·æ±‚æ•°æ˜¯8081çš„ä¸¤å€ã€‚</p>
</li>
</ol>
<h3 id="1-ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼Ÿ">1. ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼Ÿ</h3>
<p><strong>åå‘ä»£ç†</strong>çš„ä¸»è¦ç›®çš„æ˜¯éšè—çœŸå®æœåŠ¡å™¨çš„åœ°å€ï¼Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘åˆ°å†…éƒ¨æœåŠ¡å™¨ä¸Šï¼Œæœ€åå°†æœåŠ¡å™¨çš„å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<ul>
<li><strong>å·¥ä½œæµç¨‹</strong>ï¼šå®¢æˆ·ç«¯ -&gt; åå‘ä»£ç†æœåŠ¡å™¨ -&gt; å†…éƒ¨æœåŠ¡å™¨ -&gt; åå‘ä»£ç†æœåŠ¡å™¨ -&gt; å®¢æˆ·ç«¯</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong>ï¼š
<ul>
<li>éšè—å†…éƒ¨æœåŠ¡å™¨çš„IPåœ°å€å’Œç«¯å£ï¼Œå¢å¼ºå®‰å…¨æ€§ã€‚</li>
<li>æä¾›SSLåŠ å¯†ç­‰åŠŸèƒ½ã€‚</li>
<li>ç¼“å­˜é™æ€èµ„æºï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œæå‡å“åº”é€Ÿåº¦ã€‚</li>
</ul>
</li>
</ul>
<p>ä¾‹å¦‚ï¼Œå°†<code>https://example.com</code>çš„è¯·æ±‚è½¬å‘åˆ°å®é™…çš„æœåŠ¡å™¨<code>http://localhost:8080</code>ã€‚å®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“çœŸå®æœåŠ¡å™¨çš„åœ°å€ï¼Œè€Œåªä¸Nginxäº¤äº’ã€‚</p>
<h3 id="2-ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡ï¼Ÿ">2. ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡ï¼Ÿ</h3>
<p><strong>è´Ÿè½½å‡è¡¡</strong>çš„ä¸»è¦ç›®æ ‡æ˜¯<strong>åˆ†å‘è¯·æ±‚åˆ°å¤šä¸ªæœåŠ¡å™¨</strong>ï¼Œä»¥å‡è½»å•å°æœåŠ¡å™¨çš„è´Ÿè½½å‹åŠ›ï¼Œæå‡ç³»ç»Ÿçš„æ•´ä½“å¤„ç†èƒ½åŠ›å’Œå¯é æ€§ã€‚</p>
<ul>
<li><strong>å·¥ä½œæµç¨‹</strong>ï¼šå®¢æˆ·ç«¯ -&gt; è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ -&gt; æœåŠ¡å™¨A/B/Câ€¦ -&gt; è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ -&gt; å®¢æˆ·ç«¯</li>
<li><strong>ä¸»è¦åŠŸèƒ½</strong>ï¼š
<ul>
<li>æ ¹æ®ç­–ç•¥ï¼ˆå¦‚è½®è¯¢ã€æœ€å°è¿æ¥æ•°ã€IPå“ˆå¸Œç­‰ï¼‰ï¼Œåˆ†å‘è¯·æ±‚åˆ°ä¸åŒæœåŠ¡å™¨ä¸Šã€‚</li>
<li>å½“æŸå°æœåŠ¡å™¨æ•…éšœæ—¶ï¼Œå¯ä»¥è‡ªåŠ¨å°†è¯·æ±‚åˆ†é…ç»™å…¶ä»–å¯ç”¨æœåŠ¡å™¨ï¼Œæé«˜å¯ç”¨æ€§ã€‚</li>
</ul>
</li>
</ul>
<p>ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·è®¿é—®NginxæœåŠ¡å™¨æ—¶ï¼ŒNginxæ ¹æ®é…ç½®çš„ç­–ç•¥å°†è¯·æ±‚åˆ†å‘ç»™ç«¯å£ä¸º8081ã€8082çš„å¤šå°æœåŠ¡å™¨ï¼Œæ¥å‡è½»æ¯å°æœåŠ¡å™¨çš„è´Ÿæ‹…ã€‚</p>
<h3 id="Nginxä¸­åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡çš„å…³ç³»">Nginxä¸­åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡çš„å…³ç³»</h3>
<p>åœ¨Nginxä¸­ï¼Œåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡å¸¸å¸¸ä¸€èµ·ä½¿ç”¨ï¼Œå³<strong>Nginxæ—¢å……å½“åå‘ä»£ç†æœåŠ¡å™¨ï¼Œåˆå……å½“è´Ÿè½½å‡è¡¡æœåŠ¡å™¨</strong>ï¼š</p>
<ul>
<li><strong>åå‘ä»£ç†</strong>éƒ¨åˆ†ï¼šNginxæ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè½¬å‘è¯·æ±‚ï¼Œå¹¶è¿”å›å“åº”ã€‚</li>
<li><strong>è´Ÿè½½å‡è¡¡</strong>éƒ¨åˆ†ï¼šNginxå°†è¯·æ±‚åˆ†å‘ç»™ä¸åŒçš„æœåŠ¡å™¨ï¼Œä»¥æé«˜ç³»ç»Ÿçš„ååé‡å’Œå®¹é”™æ€§ã€‚</li>
</ul>
<h2 id="å‰åç«¯åˆ†ç¦»å¼€å‘">å‰åç«¯åˆ†ç¦»å¼€å‘</h2>
<p>![[/Untitled 11 56.png|Untitled 11 56.png]]</p>
<p>åç«¯ä»£ç æ‰“åŒ…åˆ°<mark>tomcat</mark></p>
<p>å‰ç«¯ä»£ç æ‰“åŒ…åˆ°<mark>nginx</mark></p>
<p>å¼€å‘æµç¨‹ï¼š</p>
<p>![[/Untitled 12 52.png|Untitled 12 52.png]]</p>
<p>æ¥å£(APIæ¥å£)å°±æ˜¯ä¸€ä¸ªhttpçš„è¯·æ±‚åœ°å€ï¼Œä¸»è¦å°±æ˜¯å»å®šä¹‰ï¼šè¯·æ±‚è·¯å¾„ã€è¯·æ±‚æ–¹å¼ã€è¯·æ±‚å‚æ•°ã€å“åº”æ•°æ®ç­‰å†…å®¹</p>
<p>å‰ç«¯æŠ€æœ¯æ ˆ<br>
å¼€å‘å·¥å…·<br>
Visual Studio Code<br>
hbuilder<br>
æŠ€æœ¯æ¡†æ¶<br>
nodejs<br>
VUE<br>
Elementul<br>
mock<br>
webpack</p>
<h3 id="YApi">YApi</h3>
<p>YApiæ˜¯é«˜æ•ˆã€æ˜“ç”¨ã€åŠŸèƒ½å¼ºå¤§çš„ apiç®¡ç†å¹³å°ï¼Œæ—¨åœ¨ä¸ºå¼€å‘ã€äº§å“ã€æµ‹è¯•äººå‘˜æä¾›æ›´ä¼˜é›…çš„æ¥å£ç®¡ç†æœåŠ¡ã€‚å¯ä»¥å¸®åŠ©å¼€å‘è€…è½»æ¾åˆ›å»ºã€å‘å¸ƒã€ç»´æŠ¤ APIï¼ŒYApiè¿˜ä¸ºç”¨æˆ·æä¾›äº†ä¼˜ç§€çš„äº¤äº’ä½“éªŒï¼Œå¼€å‘äººå‘˜åªéœ€åˆ©ç”¨å¹³å°æä¾›çš„æ¥å£æ•°æ®å†™å…¥å·¥å…·ä»¥åŠç®€å•çš„ç‚¹å‡»æ“ä½œå°±å¯ä»¥å®ç°æ¥å£çš„ç®¡ç†ã€‚YApiè®©æ¥å£å¼€å‘æ›´ç®€å•é«˜æ•ˆï¼Œè®©æ¥å£çš„ç®¡ç†æ›´å…·å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ï¼Œè®©å›¢é˜Ÿåä½œæ›´åˆç†<br>
æºç åœ°å€:<br>
<a target="_blank" rel="noopener" href="https://github.com/YMFE/yapi">https://github.com/YMFE/yapi</a><br>
è¦ä½¿ç”¨YApiï¼Œéœ€è¦è‡ªå·±è¿›è¡Œéƒ¨ç½²</p>
<p><a target="_blank" rel="noopener" href="https://yapi.pro/">https://yapi.pro/</a></p>
<p>Header å‚æ•°ï¼šHeader å‚æ•°æ˜¯æŒ‡ HTTP å¤´ï¼ŒåŒ…å«äº†å…³äºè¯·æ±‚æˆ–å“åº”çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œä¾‹å¦‚å†…å®¹ç±»å‹ã€å­—ç¬¦é›†ã€èº«ä»½éªŒè¯å‡­æ®ã€ç¼“å­˜è®¾ç½®ç­‰ã€‚é€šè¿‡è®¾ç½®ä¸åŒçš„ Header å‚æ•°ï¼Œæ‚¨å¯ä»¥æ§åˆ¶è¯·æ±‚çš„å„ä¸ªæ–¹é¢ï¼Œä¾‹å¦‚æŒ‡å®šèº«ä»½éªŒè¯ä¿¡æ¯ã€è®¾ç½®ç¼“å­˜ç­–ç•¥ã€å¯ç”¨è·¨åŸŸèµ„æºå…±äº« (CORS) ç­‰ã€‚</p>
<p>Query å‚æ•°ï¼šQuery å‚æ•°æ˜¯æŒ‡ URL æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„å‚æ•°ï¼Œç”¨äºä¼ é€’è¯·æ±‚çš„å‚æ•°å’Œå€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨ URL <a target="_blank" rel="noopener" href="https://www.example.com/search?q=python">https://www.example.com/search?q=python</a> ä¸­ï¼ŒæŸ¥è¯¢å‚æ•° q çš„å€¼ä¸º pythonã€‚é€šè¿‡ä½¿ç”¨ä¸åŒçš„æŸ¥è¯¢å‚æ•°ï¼Œæ‚¨å¯ä»¥æ§åˆ¶è¯·æ±‚çš„è¡Œä¸ºï¼Œä¾‹å¦‚æœç´¢ç»“æœã€è¿‡æ»¤é€‰é¡¹ã€åˆ†é¡µè®¾ç½®ç­‰ã€‚</p>
<p>Body å‚æ•°ï¼šBody å‚æ•°æ˜¯æŒ‡ HTTP è¯·æ±‚æ­£æ–‡ä¸­çš„å‚æ•°ï¼Œç”¨äºä¼ é€’å¤æ‚çš„ã€ç»“æ„åŒ–çš„æˆ–äºŒè¿›åˆ¶æ•°æ®ã€‚ä¾‹å¦‚ï¼Œåœ¨ POST è¯·æ±‚ä¸­ï¼ŒHTTP æ­£æ–‡é€šå¸¸åŒ…å«è¡¨å•æ•°æ®ã€JSON æ•°æ®ã€XML æ•°æ®ã€å›¾åƒæ–‡ä»¶ç­‰ã€‚é€šè¿‡ä½¿ç”¨ä¸åŒçš„ Body å‚æ•°ï¼Œæ‚¨å¯ä»¥å‘æœåŠ¡å™¨å‘é€æ›´å¤æ‚çš„è¯·æ±‚ï¼Œä¾‹å¦‚æäº¤è¡¨å•ã€ä¸Šä¼ æ–‡ä»¶ã€åˆ›å»ºèµ„æºã€ä¿®æ”¹çŠ¶æ€ç­‰ã€‚</p>
<h3 id="Swagger">Swagger</h3>
<p>ä½¿ç”¨Swaggerä½ åªéœ€è¦æŒ‰ç…§å®ƒçš„è§„èŒƒå»å®šä¹‰æ¥å£åŠæ¥å£ç›¸å…³çš„ä¿¡æ¯ï¼Œå†é€šè¿‡Swaggerè¡ç”Ÿå‡ºæ¥çš„ä¸€ç³»åˆ—é¡¹ç›®å’Œå·¥å…·å°±å¯ä»¥åšåˆ°ç”Ÿæˆå„ç§æ ¼å¼çš„æ¥å£æ–‡æ¡£ï¼Œä»¥åŠåœ¨çº¿æ¥å£è°ƒè¯•é¡µé¢ç­‰ç­‰ã€‚</p>
<ul>
<li>å®˜ç½‘:Â <a target="_blank" rel="noopener" href="https://swagger.io/">https://swagger.io/</a></li>
<li><mark>knife4j</mark>æ˜¯ä¸ºJava MVCæ¡†æ¶é›†æˆSwaggerç”ŸæˆApiæ–‡æ¡£çš„å¢å¼ºè§£å†³æ–¹æ¡ˆ</li>
</ul>
<p>ä½¿ç”¨</p>
<ol>
<li>
<p>å¯¼å…¥<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=knife4j&amp;spm=1001.2101.3001.7020">knife4j</a>çš„mavenåæ ‡</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¯¼å…¥knife4jç›¸å…³é…ç½®ç±»</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="meta">@EnableKnife4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * è®¾ç½®é™æ€èµ„æºæ˜ å°„</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> registry</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">		log.info(<span class="string">&quot;å¼€å§‹è¿›è¡Œé™æ€èµ„æºæ˜ å°„&quot;</span>);</span><br><span class="line">		registry.addResourceHandler(<span class="string">&quot;doc.html&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">		registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">		registry.addResourceHandler(<span class="string">&quot;/backend/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/backend/&quot;</span>);</span><br><span class="line">		registry.addResourceHandler(<span class="string">&quot;/front/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/front/&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * æ‰©å±•mvcæ¡†æ¶çš„æ¶ˆæ¯è½¬æ¢å™¨</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> converters</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line">		log.info(<span class="string">&quot;æ‰©å±•æ¶ˆæ¯è½¬æ¢å™¨...&quot;</span>);</span><br><span class="line">		<span class="comment">// åˆ›å»ºæ¶ˆæ¯è½¬æ¢å™¨å¯¹è±¡</span></span><br><span class="line">		<span class="type">MappingJackson2HttpMessageConverter</span> <span class="variable">messageConverter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MappingJackson2HttpMessageConverter</span>();</span><br><span class="line">		<span class="comment">// è®¾ç½®å¯¹è±¡è½¬æ¢å™¨ï¼Œåº•å±‚ä½¿ç”¨Jacksonå°†Javaå¯¹è±¡è½¬ä¸ºjson</span></span><br><span class="line">		messageConverter.setObjectMapper(<span class="keyword">new</span> <span class="title class_">JacksonObjectMapper</span>());</span><br><span class="line">		<span class="comment">// å°†ä¸Šé¢çš„æ¶ˆæ¯è½¬æ¢å™¨å¯¹è±¡è¿½åŠ åˆ°mvcæ¡†æ¶çš„è½¬æ¢å™¨é›†åˆä¸­</span></span><br><span class="line">		<span class="comment">// è½¬æ¢å™¨æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠè‡ªå·±å®šä¹‰çš„æ¶ˆæ¯è½¬æ¢å™¨è®¾ç½®ä¸ºç¬¬ä¸€ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥ä¼šä¼˜å…ˆä½¿ç”¨æˆ‘ä»¬çš„è½¬æ¢å™¨æ¥è¿›è¡Œç›¸å…³æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¦‚æœæˆ‘ä»¬çš„è½¬æ¢å™¨æ²¡æœ‰åŒ¹é…åˆ°ç›¸åº”çš„æ•°æ®æ¥è½¬æ¢ï¼Œé‚£ä¹ˆå°±ä¼šå»å¯»æ‰¾ç¬¬äºŒä¸ªä¼˜å…ˆçº§çš„è½¬æ¢å™¨ï¼Œä»¥æ­¤ç±»æ¨</span></span><br><span class="line">		converters.add(<span class="number">0</span>, messageConverter);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// æ–‡æ¡£ç±»å‹</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">				.apiInfo(apiInfo())</span><br><span class="line">				.select()</span><br><span class="line">				.apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.lr.delivery.controller&quot;</span>))</span><br><span class="line">				.paths(PathSelectors.any())</span><br><span class="line">				.build();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">				.title(<span class="string">&quot;å¤–å–&quot;</span>)</span><br><span class="line">				.version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">				.description(<span class="string">&quot;å¤–å–æ¥å£æ–‡æ¡£&quot;</span>)</span><br><span class="line">				.build();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨LoginCheckFilterä¸­è®¾ç½®ä¸éœ€è¦å¤„ç†çš„è¯·æ±‚è·¯å¾„</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123; <span class="comment">// æ”¾è¡Œè·¯å¾„</span></span><br><span class="line">				<span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">				<span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">				<span class="string">&quot;/backend/**&quot;</span>, <span class="comment">// é™æ€èµ„æºä¸ç”¨å¤„ç†</span></span><br><span class="line">				<span class="string">&quot;/front/**&quot;</span>,</span><br><span class="line">				<span class="string">&quot;/user/sendMsg&quot;</span>, <span class="comment">// ç§»åŠ¨ç«¯å‘é€çŸ­ä¿¡</span></span><br><span class="line">				<span class="string">&quot;/user/login&quot;</span>, <span class="comment">// ç§»åŠ¨ç«¯ç™»å½•</span></span><br><span class="line">				<span class="string">&quot;/doc.html&quot;</span>,</span><br><span class="line">				<span class="string">&quot;/webjars/**&quot;</span>,</span><br><span class="line">				<span class="string">&quot;/swagger-resources&quot;</span>,</span><br><span class="line">				<span class="string">&quot;/v2/api-docs&quot;</span></span><br><span class="line">		&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>swaggerå¯åŠ¨</strong></p>
<p><a target="_blank" rel="noopener" href="http://localhost/doc.html#/home">http://localhost/doc.html#/home</a></p>
</li>
</ol>
<p>å¸¸ç”¨æ³¨è§£ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>æ³¨è§£åç§°</td>
<td>ä½¿ç”¨ä½ç½®</td>
<td>ä½œç”¨æè¿°</td>
</tr>
<tr>
<td><code>@Api</code></td>
<td>Controllerç±»</td>
<td>å¯¹ç±»çš„è¯´æ˜ï¼Œæè¿°æ•´ä¸ªAPIæ§åˆ¶å™¨çš„ç”¨é€”</td>
</tr>
<tr>
<td><code>@ApiModel</code></td>
<td>å®ä½“ç±»/DTOç±»</td>
<td>æè¿°ç±»çš„ç»“æ„ï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯</td>
</tr>
<tr>
<td><code>@ApiModelProperty</code></td>
<td>ç±»çš„å±æ€§</td>
<td>æè¿°å“åº”ç±»å±æ€§çš„ä¿¡æ¯ï¼Œå¦‚åç§°ã€æè¿°ã€æ˜¯å¦å¿…é¡»</td>
</tr>
<tr>
<td><code>@ApiOperation</code></td>
<td>Controlleræ–¹æ³•</td>
<td>è¯´æ˜æ–¹æ³•çš„ç”¨é€”å’ŒåŠŸèƒ½ï¼Œæä¾›æ“ä½œæ‘˜è¦å’Œè¯¦ç»†æè¿°</td>
</tr>
<tr>
<td><code>@ApiImplicitParams</code></td>
<td>Controlleræ–¹æ³•</td>
<td>è¡¨ç¤ºä¸€ç»„éšå¼å‚æ•°çš„è¯´æ˜ï¼Œç”¨ä½œå®¹å™¨æ³¨è§£</td>
</tr>
<tr>
<td><code>@ApiImplicitParam</code></td>
<td>Controlleræ–¹æ³•ï¼ˆåœ¨<code>@ApiImplicitParams</code>å†…ï¼‰</td>
<td>æŒ‡å®šå•ä¸ªè¯·æ±‚å‚æ•°çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚åç§°ã€ç±»å‹ã€æ˜¯å¦å¿…é¡»ã€æè¿°ç­‰</td>
</tr>
</tbody>
</table>
<h3 id="é¡¹ç›®éƒ¨ç½²">é¡¹ç›®éƒ¨ç½²</h3>
<p>![[1d584c283bf34dbf9912c98bab00240e.png]]</p>
<p>ç”¨æˆ·æŒ‡å•†å®¶ï¼Œå¾®ä¿¡æŒ‡å°ç¨‹åºç”¨æˆ·ç«¯</p>
<p>æœåŠ¡å™¨:</p>
<p>192.168.56.101(æœåŠ¡å™¨A)ï¼šä¸»åº“<br>
Nginxï¼šéƒ¨ç½²å‰ç«¯é¡¹ç›®ã€é…ç½®åå‘ä»£ç†</p>
<p>Mysqlï¼šä¸»ä»å¤åˆ¶ç»“æ„ä¸­çš„ä¸»åº“</p>
<p>192.168.56.1(æœåŠ¡å™¨B)ï¼šä»åº“<br>
jdkï¼šè¿è¡ŒJavaé¡¹ç›®<br>
gitï¼šç‰ˆæœ¬æ§åˆ¶å·¥å…·<br>
mavenï¼šé¡¹ç›®æ„å»ºå·¥å…·<br>
jarï¼šSpring Booté¡¹ç›®æ‰“æˆjaråŒ…åŸºäºå†…ç½®Tomcatè¿è¡Œ</p>
<p>Mysqlï¼šä¸»ä»å¤åˆ¶ç»“æ„ä¸­çš„ä»åº“</p>
<p>172.17.2.94(æœåŠ¡å™¨C)<br>
Redisï¼šç¼“å­˜ä¸­é—´ä»¶</p>
<p><strong>éƒ¨ç½²å‰ç«¯é¡¹ç›®</strong></p>
<p>â‘  å°†èµ„æ–™ä¸­å‰ç«¯æ‰“åŒ…åçš„æ–‡ä»¶ dist ä¼ åˆ° nginx æ ¹ç›®å½•ä¸‹çš„ html ç›®å½•</p>
<p>â‘¡ ä¿®æ”¹ nginx.conf</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">    listen <span class="number">80</span>;</span><br><span class="line">    server_name localhost;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root html/dist;     # æ ¹ç›®å½•</span><br><span class="line">        index index.html;   # é»˜è®¤é¦–é¡µ</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # åå‘ä»£ç†</span><br><span class="line">    location ^~ /api/ &#123;</span><br><span class="line">        rewrite ^/api/(.*)$ /$<span class="number">1</span> <span class="keyword">break</span>;      # rewirteï¼šé‡å†™urlï¼Œå°† /api/ é™¤å»</span><br><span class="line">        proxy_pass proxy_pass http:<span class="comment">//192.168.44.128:8080;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    error_page <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /50x.html;</span><br><span class="line">    location = /50x.html&#123;</span><br><span class="line">        root html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>éƒ¨ç½²åç«¯é¡¹ç›®</strong></p>
<p>â‘  åœ¨æœåŠ¡å™¨å®‰è£… jdkã€gitã€mavenã€MySQLï¼Œä½¿ç”¨ git å°†é¡¹ç›®å…‹éš†ä¸‹æ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http:<span class="comment">//...</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åä½¿ç”¨ maven å°†é¡¹ç›®æ‰“åŒ…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean <span class="keyword">package</span> -Dmaven.test.skip=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>â‘¡ å°†èµ„æ–™ä¸­çš„ <a target="_blank" rel="noopener" href="http://reggieStart.sh">reggieStart.sh</a> è‡ªåŠ¨éƒ¨ç½²è„šæœ¬å¯¼å…¥ï¼Œè¿™é‡Œç¨ä½œä¿®æ”¹ï¼Œå°†è¿™é‡Œçš„ç›®å½•æ”¹ä¸ºè‡ªå·±å­˜æ”¾çš„ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo å‡†å¤‡ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line">cd /usr/local/javaapp/reggie</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆäºˆèƒ½å¤Ÿæ‰§è¡Œ sh è„šæœ¬çš„æƒé™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="number">777</span> reggieStart.sh</span><br></pre></td></tr></table></figure>
<p>â‘¢ æ‰§è¡Œ sh è„šæœ¬æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./reggieStart.sh</span><br></pre></td></tr></table></figure>
<p>è‹¥è¿™é‡Œæ¯æ¬¡ä» git æ‹‰å–ä»£ç éƒ½éœ€è¦è¾“å…¥è´¦å·å¯†ç ï¼Œå¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global credential.helper store</span><br></pre></td></tr></table></figure>
<h3 id="è§£å†³-Linux-ä¸‹å›¾ç‰‡è·¯å¾„é—®é¢˜"><strong>è§£å†³ Linux ä¸‹å›¾ç‰‡è·¯å¾„é—®é¢˜</strong></h3>
<p>åœ¨ application.yml ä¸­å°†å›¾ç‰‡è·¯å¾„ä¿®æ”¹ä¸ºå¯ç”¨è·¯å¾„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reggie:</span><br><span class="line">  path: /usr/local/javaapp/reggie_img</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°†å›¾ç‰‡ä¸Šä¼ åˆ°è¯¥è·¯å¾„å³å¯</p>
<p>å¼€æºå†…å­˜æ•°æ®å­˜å‚¨ï¼Œè¢«æ•°ç™¾ä¸‡å¼€å‘äººå‘˜ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜ã€æµå¼•æ“å’Œæ¶ˆæ¯ä»£ç†ã€‚</p>
<p>Redis æ˜¯ç”¨ C è¯­è¨€å¼€å‘çš„ä¸€ä¸ªåŸºäº<mark>å†…å­˜</mark>çš„å¼€æºçš„é«˜æ€§èƒ½é”®å€¼å¯¹ (key-value) æ•°æ®åº“ï¼Œå®˜æ–¹æä¾›çš„æ•°æ®æ˜¯å¯ä»¥è¾¾åˆ° 100000+ çš„ QPSï¼ˆæ¯ç§’å†…æŸ¥è¯¢æ¬¡æ•°ï¼‰ã€‚å®ƒå­˜å‚¨çš„ value ç±»å‹æ¯”è¾ƒä¸°å¯Œï¼Œä¹Ÿè¢«ç§°ä¸ºç»“æ„åŒ–çš„ NoSql æ•°æ®åº“ã€‚</p>
<p>NoSql (Not Only sQL)ï¼Œä¸ä»…ä»…æ˜¯ SQLï¼Œæ³›æŒ‡<strong>éå…³ç³»å‹æ•°æ®åº“</strong>ã€‚NoSql æ•°æ®åº“å¹¶ä¸æ˜¯è¦å–ä»£å…³ç³»å‹æ•°æ®åº“ï¼Œè€Œæ˜¯å…³ç³»å‹æ•°æ®åº“çš„è¡¥å……ã€‚</p>
<blockquote>
<p>å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰ï¼šMySQLã€Oraclã€DB2ã€SQLServer</p>
<p>éå…³ç³»å‹æ•°æ®åº“ï¼ˆNoSQLï¼‰ï¼šRedisã€Mongo dbã€MemCached</p>
</blockquote>
<p>Redis åº”ç”¨åœºæ™¯ï¼š<strong>ç¼“å­˜</strong>ã€ä»»åŠ¡é˜Ÿåˆ—ã€æ¶ˆæ¯é˜Ÿåˆ—ã€åˆ†å¸ƒå¼é”</p>
<p>é€‚åˆå­˜å‚¨çƒ­ç‚¹æ•°æ®ï¼ˆçƒ­ç‚¹å•†å“ã€å’¨è¯¢ã€æ–°é—»ï¼‰</p>
<p><strong>Linux å®‰è£… Redis</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è§£å‹ï¼š</span><br><span class="line">tar -zxvf redis-<span class="number">4.0</span><span class="number">.0</span>.tar.gz -C /usr/local</span><br><span class="line"></span><br><span class="line">å®‰è£…gccï¼š</span><br><span class="line">yum install gcc-c++</span><br><span class="line"></span><br><span class="line">è¿›å…¥redisç›®å½•åæ‰§è¡Œï¼š</span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# make</span><br><span class="line"></span><br><span class="line">è¿›å…¥srcç›®å½•åè¿›è¡Œå®‰è£…ï¼š</span><br><span class="line">[root<span class="meta">@localhost</span> src]# make install</span><br></pre></td></tr></table></figure>
<p><strong>Windows å®‰è£… Redis</strong></p>
<p>Redis çš„ windows ç‰ˆå±äºç»¿è‰²è½¯ä»¶ï¼Œç›´æ¥è§£å‹å³å¯ä½¿ç”¨</p>
<p>![[/Untitled 220.png|Untitled 220.png]]</p>
<h2 id="æœåŠ¡å¯åŠ¨ä¸åœæ­¢"><strong>æœåŠ¡å¯åŠ¨ä¸åœæ­¢</strong></h2>
<h3 id="Linux-å¯åŠ¨ä¸åœæ­¢"><strong>Linux å¯åŠ¨ä¸åœæ­¢</strong></h3>
<p>![[569d5e8d09924ce2b9732a3903346ed1.png]]</p>
<p>è¿›å…¥ src ç›®å½•åæ‰§è¡Œ./redis-server</p>
<p><strong>Linux è®¾ç½®æœåŠ¡åå°è¿è¡Œ</strong></p>
<p>è¿›å…¥ æ ¹ç›®å½• ä¸‹ä¿®æ”¹Â redis.conf æ–‡ä»¶</p>
<p>è¾“å…¥ /dae æŸ¥æ‰¾ï¼Œç„¶åå°†Â daemonize æ”¹ä¸º yesï¼Œå³åå°è¿è¡Œ</p>
<p>![[6c75cc12d3c74e10aba636248208b0d6.png]]</p>
<p>åœ¨æ ¹ç›®å½•ä»¥ redis.conf ä½œä¸ºé…ç½®æ–‡ä»¶å¯åŠ¨åå°è¿è¡Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# src/redis-server ./redis.conf</span><br><span class="line"><span class="number">25973</span>:C <span class="number">10</span> Sep <span class="number">12</span>:<span class="number">52</span>:<span class="number">39.424</span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span><br><span class="line"><span class="number">25973</span>:C <span class="number">10</span> Sep <span class="number">12</span>:<span class="number">52</span>:<span class="number">39.424</span> # Redis version=<span class="number">4.0</span><span class="number">.0</span>, bits=<span class="number">64</span>, commit=<span class="number">00000000</span>, modified=<span class="number">0</span>, pid=<span class="number">25973</span>, just started</span><br><span class="line"><span class="number">25973</span>:C <span class="number">10</span> Sep <span class="number">12</span>:<span class="number">52</span>:<span class="number">39.424</span> # Configuration loaded</span><br></pre></td></tr></table></figure>
<p>å‘½ä»¤ <code>src/redis-server ./redis.conf</code> ç”¨äºå¯åŠ¨ Redis æœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„ <code>redis.conf</code> é…ç½®æ–‡ä»¶æ¥é…ç½® Redis å®ä¾‹ã€‚ä¸‹é¢æ˜¯å‘½ä»¤å„éƒ¨åˆ†çš„è¯¦ç»†è§£é‡Šï¼š</p>
<ul>
<li><code>src/redis-server</code>ï¼šè¿™æ˜¯ä» Redis æºä»£ç ç¼–è¯‘åç”Ÿæˆçš„ Redis æœåŠ¡å™¨å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ã€‚é€šå¸¸ï¼ŒRedis æœåŠ¡å™¨çš„å¯æ‰§è¡Œæ–‡ä»¶ä¼šä½äºæºä»£ç ç›®å½•çš„ <code>src</code> å­ç›®å½•ä¸­ã€‚</li>
<li><code>./redis.conf</code>ï¼šè¿™æ˜¯ Redis é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚<code>./</code> è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œ<code>redis.conf</code> æ˜¯é…ç½®æ–‡ä»¶çš„åç§°ã€‚è¿™ä¸ªé…ç½®æ–‡ä»¶åŒ…å«äº†å¯åŠ¨ Redis æœåŠ¡å™¨æ—¶æ‰€éœ€çš„å„ç§è®¾ç½®ï¼Œä¾‹å¦‚æŒä¹…åŒ–é€‰é¡¹ã€ç½‘ç»œé…ç½®ã€å¯†ç ä¿æŠ¤ã€æ—¥å¿—è®°å½•ç­‰ã€‚</li>
</ul>
<p>ç»¼åˆæ¥çœ‹ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¼šå¯åŠ¨ Redis æœåŠ¡å™¨ï¼Œå¹¶ä¸”ä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„ <code>redis.conf</code> æ–‡ä»¶ä½œä¸ºé…ç½®æºã€‚è¿™æ„å‘³ç€ Redis æœåŠ¡å™¨å°†æ ¹æ® <code>redis.conf</code> æ–‡ä»¶ä¸­å®šä¹‰çš„å‚æ•°æ¥åˆå§‹åŒ–å’Œè¿è¡Œã€‚</p>
<h3 id="Windows-å¯åŠ¨ä¸åœæ­¢æœåŠ¡"><strong>Windows å¯åŠ¨ä¸åœæ­¢æœåŠ¡</strong></h3>
<p>![[04821ab028f44b058bada59cfae0f4ce.png]]</p>
<p>åŒå‡» redis-server.exe å¯åŠ¨</p>
<h3 id="Linux-å¼€å¯å¯†ç æ ¡éªŒ"><strong>Linux å¼€å¯å¯†ç æ ¡éªŒ</strong></h3>
<p>ä¿®æ”¹ redis-confï¼Œå°† requirepass è¿™è¡Œçš„æ³¨è§£å»æ‰ï¼Œå¹¶æŒ‡å®šå¯†ç </p>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/f7aa5cbc58b84d8baf8cf6b5dd832739.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f7aa5cbc58b84d8baf8cf6b5dd832739.png" alt=""></a></p>
<p>å°†åŸè¿›ç¨‹æ€æ‰å†å¯åŠ¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# ps -ef | grep redis</span><br><span class="line">root      <span class="number">25974</span>      <span class="number">1</span>  <span class="number">0</span> <span class="number">12</span>:<span class="number">52</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">01</span> src/redis-server <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span></span><br><span class="line">root      <span class="number">35559</span>  <span class="number">27196</span>  <span class="number">0</span> <span class="number">11</span>:<span class="number">02</span> pts/<span class="number">2</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> ./redis-cli</span><br><span class="line">root      <span class="number">70343</span>   <span class="number">1289</span>  <span class="number">0</span> <span class="number">13</span>:<span class="number">12</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep --color=auto redis</span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# kill -<span class="number">9</span> <span class="number">25974</span></span><br><span class="line"></span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# ps -ef | grep redis</span><br><span class="line">root      <span class="number">35559</span>  <span class="number">27196</span>  <span class="number">0</span> <span class="number">11</span>:<span class="number">02</span> pts/<span class="number">2</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> ./redis-cli</span><br><span class="line">root      <span class="number">71526</span>   <span class="number">1289</span>  <span class="number">0</span> <span class="number">13</span>:<span class="number">12</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep --color=auto redis</span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# kill -<span class="number">9</span> <span class="number">35559</span></span><br><span class="line"></span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# ps -ef | grep redis</span><br><span class="line">root      <span class="number">72270</span>   <span class="number">1289</span>  <span class="number">0</span> <span class="number">13</span>:<span class="number">13</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep --color=auto redis</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# src/redis-server ./redis.conf</span><br><span class="line"><span class="number">74266</span>:C <span class="number">10</span> Sep <span class="number">13</span>:<span class="number">13</span>:<span class="number">58.154</span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span><br><span class="line"><span class="number">74266</span>:C <span class="number">10</span> Sep <span class="number">13</span>:<span class="number">13</span>:<span class="number">58.154</span> # Redis version=<span class="number">4.0</span><span class="number">.0</span>, bits=<span class="number">64</span>, commit=<span class="number">00000000</span>, modified=<span class="number">0</span>, pid=<span class="number">74266</span>, just started</span><br><span class="line"><span class="number">74266</span>:C <span class="number">10</span> Sep <span class="number">13</span>:<span class="number">13</span>:<span class="number">58.154</span> # Configuration loaded</span><br><span class="line"></span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# src/redis-cli -h localhost -p <span class="number">6379</span></span><br><span class="line">localhost:<span class="number">6379</span>&gt; keys *</span><br><span class="line">(error) NOAUTH Authentication required.</span><br><span class="line"></span><br><span class="line">localhost:<span class="number">6379</span>&gt; auth å¯†ç [<span class="number">123456</span>]</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>
<p><code>src/redis-cli</code> æ˜¯ç”¨æ¥è¿æ¥å’Œæ“ä½œ Redis æ•°æ®åº“çš„å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰å·¥å…·ã€‚è¿™ä¸ªå‘½ä»¤å°è¯•ä»æºä»£ç ç›®å½•ï¼ˆ<code>src</code>ï¼‰ä¸­ç›´æ¥è¿è¡Œ Redis å‘½ä»¤è¡Œå·¥å…·ã€‚ä¸‹é¢æ˜¯å‘½ä»¤å‚æ•°çš„è§£é‡Šï¼š</p>
<ul>
<li><code>h localhost</code>ï¼šæŒ‡å®š Redis æœåŠ¡å™¨çš„ä¸»æœºåï¼Œè¿™é‡Œæ˜¯ <code>localhost</code>ï¼Œè¡¨ç¤ºæœ¬åœ°ä¸»æœºã€‚</li>
<li><code>p 6379</code>ï¼šæŒ‡å®š Redis æœåŠ¡å™¨çš„ç«¯å£å·ï¼Œè¿™é‡Œæ˜¯ <code>6379</code>ï¼Œè¿™æ˜¯ Redis é»˜è®¤çš„ç«¯å£ã€‚</li>
<li><code>a 123456</code>ï¼šåé¢è·Ÿç€çš„æ˜¯ Redis æœåŠ¡å™¨çš„å¯†ç ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¯†ç æ˜¯ <code>123456</code>ã€‚è¿™ä¸ªå‚æ•°å‘Šè¯‰ <code>redis-cli</code> ä½¿ç”¨è¿™ä¸ªå¯†ç æ¥è®¤è¯è¿æ¥ã€‚</li>
</ul>
<p>è®¾ç½®ç™»é™†æ—¶åŒæ—¶è¿›è¡Œè®¤è¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost redis-4.0.0]# src/redis-cli -h localhost -p 6379 -a 123456</span><br><span class="line">localhost:6379&gt; keys *</span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure>
<h3 id="Linux-å¼€å¯è¿œç¨‹è¿æ¥"><strong>Linux å¼€å¯è¿œç¨‹è¿æ¥</strong></h3>
<p>å†æ²¡æœ‰å¼€å¯è¿œç¨‹è¿æ¥å‰ï¼Œå† Windows ä¸‹è¿æ¥ Linux çš„ Redis</p>
<p>åœ¨</p>
<p>![[/Untitled 1 125.png|Untitled 1 125.png]]</p>
<p>æŒ‰shiftå³é”®æ‰“å¼€powershell</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PS D:\redis\Redis-x64-<span class="number">3.2</span><span class="number">.100</span>&gt; ./redis-cli.exe -h <span class="number">192.168</span><span class="number">.40</span><span class="number">.128</span> -p <span class="number">6379</span> -a <span class="number">123456</span></span><br><span class="line">Could not connect to Redis at <span class="number">192.168</span><span class="number">.44</span><span class="number">.128</span>:<span class="number">6379</span>: ç”±äºç›®æ ‡è®¡ç®—æœºç§¯ææ‹’ç»ï¼Œæ— æ³•è¿æ¥ã€‚</span><br><span class="line">Could not connect to Redis at <span class="number">192.168</span><span class="number">.44</span><span class="number">.128</span>:<span class="number">6379</span>: ç”±äºç›®æ ‡è®¡ç®—æœºç§¯ææ‹’ç»ï¼Œæ— æ³•è¿æ¥ã€‚</span><br></pre></td></tr></table></figure>
<p>éœ€è¦å† Linux ä¸‹ä¿®æ”¹ redis.conf é…ç½®æ–‡ä»¶ï¼Œå°†ä¸‹å›¾æ”¹è¡Œæ³¨é‡Š</p>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/d79f22d2a4074807bc34e711725af8d8.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d79f22d2a4074807bc34e711725af8d8.png" alt=""></a></p>
<p>ä¿®æ”¹å®Œåè¦é‡å¯æœåŠ¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# ps -ef | grep redis</span><br><span class="line">root       <span class="number">2650</span>      <span class="number">1</span>  <span class="number">0</span> <span class="number">10</span>:<span class="number">25</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> src/redis-server <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span></span><br><span class="line">root      <span class="number">16456</span>   <span class="number">1290</span>  <span class="number">0</span> <span class="number">10</span>:<span class="number">37</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep --color=auto redis</span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# kill -<span class="number">9</span>  <span class="number">2650</span></span><br><span class="line"></span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# ps -ef | grep redis</span><br><span class="line">root      <span class="number">16785</span>   <span class="number">1290</span>  <span class="number">0</span> <span class="number">10</span>:<span class="number">37</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep --color=auto redis</span><br><span class="line"></span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# src/redis-server ./redis.conf</span><br><span class="line"><span class="number">17142</span>:C <span class="number">11</span> Sep <span class="number">10</span>:<span class="number">38</span>:<span class="number">10.099</span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span><br><span class="line"><span class="number">17142</span>:C <span class="number">11</span> Sep <span class="number">10</span>:<span class="number">38</span>:<span class="number">10.099</span> # Redis version=<span class="number">4.0</span><span class="number">.0</span>, bits=<span class="number">64</span>, commit=<span class="number">00000000</span>, modified=<span class="number">0</span>, pid=<span class="number">17142</span>, just started</span><br><span class="line"><span class="number">17142</span>:C <span class="number">11</span> Sep <span class="number">10</span>:<span class="number">38</span>:<span class="number">10.099</span> # Configuration loaded</span><br></pre></td></tr></table></figure>
<p>ç„¶åè®¾ç½®é˜²ç«å¢™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# firewall-cmd --zone=<span class="keyword">public</span> --add-port=<span class="number">6379</span>/tcp --permanent</span><br><span class="line">success</span><br><span class="line">[root<span class="meta">@localhost</span> redis-<span class="number">4.0</span><span class="number">.0</span>]# f irewall-cmd --reload</span><br><span class="line">success</span><br></pre></td></tr></table></figure>
<p>è¦ä½¿ç”¨ <code>ufw</code> å…è®¸ç«¯å£ 6379ï¼ˆRedis é»˜è®¤ç«¯å£ï¼‰ä¸Šçš„æµé‡ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 6379/tcp</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤ä¼šç«‹å³æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼Œå…è®¸è¿›å…¥ç«¯å£ 6379 çš„ TCP è¿æ¥ã€‚å¦‚æœæ‚¨æƒ³è¦è¿™ä¸ªè§„åˆ™åœ¨ç³»ç»Ÿé‡å¯åä»ç„¶æœ‰æ•ˆï¼Œå¯ä»¥ä½¿ç”¨ <code>--permanent</code> é€‰é¡¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 6379/tcp --permanent</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œæ‚¨éœ€è¦é‡æ–°åŠ è½½ <code>ufw</code> è§„åˆ™ä»¥åº”ç”¨æ›´æ”¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw reload</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‚¨éœ€è¦æŸ¥çœ‹ <code>ufw</code> çš„çŠ¶æ€æˆ–è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure>
<p>è¿™å°†åˆ—å‡ºå½“å‰çš„é˜²ç«å¢™è§„åˆ™å’Œå®ƒä»¬çš„çŠ¶æ€ã€‚</p>
<p>åœ¨ Windows ä¸‹å†æ¬¡è¿æ¥ Linux çš„ Redis</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PS D:\redis\Redis-x64-<span class="number">3.2</span><span class="number">.100</span>&gt; ./redis-cli.exe -h <span class="number">192.168</span><span class="number">.40</span><span class="number">.128</span> -p <span class="number">6379</span> -a <span class="number">123456</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.44</span><span class="number">.128</span>:<span class="number">6379</span>&gt; keys *</span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure>
<h2 id="Redis-æ•°æ®ç±»å‹"><strong>Redis æ•°æ®ç±»å‹</strong></h2>
<p>ä¸­æ–‡æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://www.redis.net.cn/tutorial/3501.html">Redis æ•™ç¨‹_redisæ•™ç¨‹</a></p>
<h3 id="ä»‹ç»"><strong>ä»‹ç»</strong></h3>
<p>![[701cbe108e6e43bebf491be26887bf55.png]]</p>
<p>![[12aca4c794b442048e6a6471eea6bc87.png]]</p>
<p>hash é€‚åˆå­˜å‚¨å¯¹è±¡<br>
list æŒ‰ç…§æ’å…¥é¡ºåºæ’åºï¼Œå¯ä»¥æœ‰é‡å¤å…ƒç´ <br>
set æ— åºé›†åˆï¼Œæ²¡æœ‰é‡å¤å…ƒç´ <br>
isorted set æœ‰åºé›†åˆï¼Œæ²¡æœ‰é‡å¤å…ƒç´ </p>
<h3 id="å­—ç¬¦ä¸²-String-æ“ä½œå‘½ä»¤"><strong>å­—ç¬¦ä¸² String æ“ä½œå‘½ä»¤</strong></h3>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/652255eff8f54971977d8ae93fa10df7.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/652255eff8f54971977d8ae93fa10df7.png" alt=""></a></p>
<p>æ›´å¤šå‘½ä»¤ï¼š<a target="_blank" rel="noopener" href="https://www.redis.net.cn/tutorial/3508.html">Redis å­—ç¬¦ä¸²(String)_redisæ•™ç¨‹</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; set name xiaoming</span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; get name</span><br><span class="line"><span class="string">&quot;xiaoming&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; get <span class="title function_">age</span></span><br><span class="line"><span class="params">(nil)</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; set age <span class="number">20</span></span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; get age</span><br><span class="line"><span class="string">&quot;20&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; set age <span class="number">30</span></span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; get age</span><br><span class="line"><span class="string">&quot;30&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; setex city <span class="number">10</span> beijing</span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; get city</span><br><span class="line"><span class="string">&quot;beijing&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; get <span class="title function_">city</span></span><br><span class="line"><span class="params">(nil)</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; setnx k1 <span class="title function_">v1</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; setnx k1 <span class="title function_">v2</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">0</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; get k1</span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br></pre></td></tr></table></figure>
<p>setå‘½ä»¤ä¼šè½¬æˆå­—ç¬¦ä¸²å­˜å‚¨</p>
<h3 id="å“ˆå¸Œ-hash-æ“ä½œå‘½ä»¤"><strong>å“ˆå¸Œ hash æ“ä½œå‘½ä»¤</strong></h3>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/c9dfdd4a33ae4748af39e1a92e1cd3d9.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c9dfdd4a33ae4748af39e1a92e1cd3d9.png" alt=""></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hset <span class="number">001</span> name <span class="title function_">xiaoming</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hset <span class="number">001</span> age <span class="number">20</span></span><br><span class="line">(integer) <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hget <span class="number">001</span> name</span><br><span class="line"><span class="string">&quot;xiaoming&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hget <span class="number">001</span> age</span><br><span class="line"><span class="string">&quot;20&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hdel <span class="number">001</span> age</span><br><span class="line">(integer) <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hget <span class="number">001</span> age</span><br><span class="line">(nil)</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hkeys <span class="number">001</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hset <span class="number">001</span> age <span class="number">30</span></span><br><span class="line">(integer) <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hkeys <span class="number">001</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;age&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hvals <span class="number">001</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;30&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; hgetall <span class="number">001</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;age&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;30&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ—è¡¨-list-æ“ä½œå‘½ä»¤"><strong>åˆ—è¡¨ list æ“ä½œå‘½ä»¤</strong></h3>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/656dce0ff4f74029b7e5cf9e60408db4.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/656dce0ff4f74029b7e5cf9e60408db4.png" alt=""></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lpush list a b <span class="title function_">c</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">3</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lrange list <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lpush list <span class="title function_">zhang</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">4</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lrange list <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;zhang&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lpush list <span class="title function_">a</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">5</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lrange list <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;zhang&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">5</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; rpop list</span><br><span class="line"><span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lrange list <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;zhang&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; llen <span class="title function_">list</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">4</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; brpop list <span class="number">10</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;list&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; brpop list <span class="number">10</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;list&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; brpop list <span class="number">10</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;list&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;zhang&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; brpop list <span class="number">10</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;list&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; lrange list <span class="number">0</span> -<span class="number">1</span></span><br><span class="line">(empty list or set)</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; brpop list <span class="number">10</span></span><br><span class="line">(nil)</span><br><span class="line">(<span class="number">10.</span>04s)</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br></pre></td></tr></table></figure>
<p><code>0 -1</code>ï¼šè¿™äº›å‚æ•°æŒ‡å®šäº†è¦æ£€ç´¢çš„å…ƒç´ çš„èŒƒå›´ï¼Œä»ç´¢å¼• 0 å¼€å§‹åˆ°ç´¢å¼•Â <code>-1</code>Â ç»“æŸï¼ˆ<code>-1</code>Â åœ¨ Redis ä¸­è¡¨ç¤ºåˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼‰</p>
<p><code>lpush</code> å‘½ä»¤ä¼šå°†å…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼Œæ‰€ä»¥æœ€åæ’å…¥çš„å…ƒç´  <code>c</code> ä¼šæˆä¸ºåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆç´¢å¼• 0ï¼‰ï¼Œè€Œ <code>a</code> ä¼šæˆä¸ºæœ€åä¸€ä¸ªå…ƒç´ ã€‚<br>
brpop_ç§»é™¤å¹¶è·å–åˆ—è¡¨ â€œlistâ€ çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™ç­‰å¾… 10 ç§’_<br>
å¦‚æœæ“ä½œæˆåŠŸï¼Œ<br>
<code>BRPOP</code>Â è¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼šç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è¢«ç§»é™¤çš„å…ƒç´ ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯å®ƒæ‰€å±çš„åˆ—è¡¨çš„é”®åã€‚</p>
<h3 id="é›†åˆ-set-æ“ä½œå‘½ä»¤"><strong>é›†åˆ set æ“ä½œå‘½ä»¤</strong></h3>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/e1a0ff233acb4a4eae0923f0eeabd900.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e1a0ff233acb4a4eae0923f0eeabd900.png" alt=""></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sadd set a b c <span class="title function_">d</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">4</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; smembers set</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;d&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sadd set a <span class="title function_">d</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">0</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; smembers set</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;d&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; scard <span class="title function_">set</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">4</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sadd s a d s <span class="title function_">o</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">4</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; smembers s</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;o&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;s&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;d&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sinter set s</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;d&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sunion set s</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;d&quot;</span></span><br><span class="line"><span class="number">5</span>) <span class="string">&quot;s&quot;</span></span><br><span class="line"><span class="number">6</span>) <span class="string">&quot;o&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sdiff set s</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; sdiff s set</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;s&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;o&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; srem s a b c <span class="title function_">d</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">2</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; smembers s</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;o&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;s&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="æœ‰åºé›†åˆ-sorted-set-æ“ä½œå‘½ä»¤"><strong>æœ‰åºé›†åˆ sorted set æ“ä½œå‘½ä»¤</strong></h3>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/1695651cfd7e452da7cdb915c76b34b9.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1695651cfd7e452da7cdb915c76b34b9.png" alt=""></a></p>
<p>æŒ‰valueæ’åº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zadd sset <span class="number">10.0</span> a <span class="number">9.0</span> b</span><br><span class="line">(integer) <span class="number">2</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zrange sset <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zadd sset <span class="number">9.5</span> c</span><br><span class="line">(integer) <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zrange sset <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zrange sset <span class="number">0</span> -<span class="number">1</span> withscores</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;9&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;9.5&quot;</span></span><br><span class="line"><span class="number">5</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">6</span>) <span class="string">&quot;10&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zincrby sset <span class="number">20</span> b</span><br><span class="line"><span class="string">&quot;29&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zrange sset <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zrem sset <span class="title function_">b</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; zrange sset <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;a&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="é€šç”¨å‘½ä»¤"><strong>é€šç”¨å‘½ä»¤</strong></h3>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/66f126b2b8874685b64384a6e0e9a1ea.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/66f126b2b8874685b64384a6e0e9a1ea.png" alt=""></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; keys *</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;001&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;sset&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;name&quot;</span></span><br><span class="line"><span class="number">4</span>) <span class="string">&quot;k1&quot;</span></span><br><span class="line"><span class="number">5</span>) <span class="string">&quot;set&quot;</span></span><br><span class="line"><span class="number">6</span>) <span class="string">&quot;age&quot;</span></span><br><span class="line"><span class="number">7</span>) <span class="string">&quot;s&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; exists <span class="title function_">name</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; exists <span class="title function_">aaa</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">0</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; type name</span><br><span class="line">string</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; type set</span><br><span class="line">set</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; type sset</span><br><span class="line">zset</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; ttl <span class="title function_">name</span></span><br><span class="line"><span class="params">(integer)</span> -<span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; setex test <span class="number">100</span> zhang</span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; ttl <span class="title function_">test</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">97</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; del <span class="title function_">test</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br></pre></td></tr></table></figure>
<h2 id="åœ¨-Java-ä¸­æ“ä½œ-Redis"><strong>åœ¨ Java ä¸­æ“ä½œ Redis</strong></h2>
<h3 id="1ã€ä»‹ç»"><strong>1ã€ä»‹ç»</strong></h3>
<p><a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/4513f7cd9ceb4f7685c090efdd43ff3e.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4513f7cd9ceb4f7685c090efdd43ff3e.png" alt=""></a></p>
<h3 id="2ã€Jedis"><strong>2ã€<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Jedis&amp;spm=1001.2101.3001.7020">Jedis</a></strong></h3>
<p>Maven åæ ‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;redis.clients&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jedis&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.8.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œè¿è¡Œå‰è¦å…ˆå¯åŠ¨ Redis</p>
<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRedis</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//1 è·å–è¿æ¥ï¼Œè®¾ç½®æœåŠ¡å™¨ipåŠç«¯å£å·</span></span><br><span class="line">    <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2 æ‰§è¡Œå…·ä½“çš„æ“ä½œ</span></span><br><span class="line">    jedis.set(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;xiaoming&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    System.out.println(value);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    jedis.hset(<span class="string">&quot;myhash&quot;</span>,<span class="string">&quot;addr&quot;</span>,<span class="string">&quot;bj&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">hValue</span> <span class="operator">=</span> jedis.hget(<span class="string">&quot;myhash&quot;</span>, <span class="string">&quot;addr&quot;</span>);</span><br><span class="line">    System.out.println(hValue);</span><br><span class="line"></span><br><span class="line">    Set&lt;String&gt; keys = jedis.keys(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (String key : keys) &#123;</span><br><span class="line">        System.out.println(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    jedis.del(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;myhash&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3 å…³é—­è¿æ¥</span></span><br><span class="line">    jedis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Spring-Data-Redis"><strong>Spring Data Redis</strong></h3>
<h3 id="1ã€ä¾èµ–"><strong>1ã€ä¾èµ–</strong></h3>
<p>Maven åæ ‡ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2ã€RedisTemplate-ç±»"><strong>2ã€<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=RedisTemplate&amp;spm=1001.2101.3001.7020">RedisTemplate</a>Â ç±»</strong></h3>
<p>Spring Data Redisä¸­æä¾›äº†ä¸€ä¸ªé«˜åº¦å°è£…çš„ç±»:RedisTemplateï¼Œé’ˆå¯¹jediså®¢æˆ·ç«¯ä¸­å¤§é‡apiè¿›è¡Œäº†å½’ç±»å°è£…,å°†åŒä¸€ç±»å‹æ“ä½œå°è£…ä¸ºoperationæ¥å£ï¼Œå…·ä½“åˆ†ç±»å¦‚ä¸‹:</p>
<p>ValueOperationsï¼šç®€å•K-Væ“ä½œ</p>
<p>SetOperationsï¼šsetç±»å‹æ•°æ®æ“ä½œ</p>
<p>ZSetOperationsï¼šzsetç±»å‹æ•°æ®æ“ä½œ</p>
<p>HashOperationsï¼šé’ˆå¯¹mapç±»å‹çš„æ•°æ®æ“ä½œ</p>
<p>ListOperationsï¼šé’ˆå¯¹listç±»å‹çš„æ•°æ®æ“ä½œ</p>
<h3 id="3ã€application-yml"><strong>3ã€application.yml</strong></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  application:</span><br><span class="line">    name: springdataredis_demo</span><br><span class="line">  \#Redisç›¸å…³é…ç½®</span><br><span class="line">  redis:</span><br><span class="line">    host: localhost # è¿æ¥ip</span><br><span class="line">    port: <span class="number">6379</span>  # ç«¯å£</span><br><span class="line">    # password: <span class="number">123456</span> \#å¯†ç </span><br><span class="line">    database: <span class="number">0</span> \#æ“ä½œçš„æ˜¯<span class="number">0</span>å·æ•°æ®åº“</span><br><span class="line">    jedis:</span><br><span class="line">      \#Redisè¿æ¥æ± é…ç½®</span><br><span class="line">      pool:</span><br><span class="line">        max-active: <span class="number">8</span> \#æœ€å¤§è¿æ¥æ•°</span><br><span class="line">        max-wait: 1ms \#è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´</span><br><span class="line">        max-idle: <span class="number">4</span> \#è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥</span><br><span class="line">        min-idle: <span class="number">0</span> \#è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥</span><br></pre></td></tr></table></figure>
<p>![[/Untitled 2 110.png|Untitled 2 110.png]]</p>
<p>é»˜è®¤æä¾›16ä¸ªæ•°æ®åº“ï¼Œé€šè¿‡select index æ›´æ”¹ï¼Œç´¢å¼•ä» 0 åˆ° 15</p>
<h3 id="4ã€è®¾ç½®-RedisTemplate-çš„åºåˆ—åŒ–å™¨"><strong>4ã€è®¾ç½® RedisTemplate çš„åºåˆ—åŒ–å™¨</strong></h3>
<p>åœ¨Spring Data Redisä¸­ï¼Œ<code>RedisTemplate</code> æ˜¯ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œç”¨äºæ“ä½œRedisæ•°æ®åº“ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>RedisTemplate</code> ä½¿ç”¨ <code>JdkSerializationRedisSerializer</code> ä½œä¸ºå…¶é”®ï¼ˆKeyï¼‰çš„åºåˆ—åŒ–å™¨ï¼Œè¿™æ„å‘³ç€é”®å°†ä½¿ç”¨Javaæ ‡å‡†åºåˆ—åŒ–æœºåˆ¶è¿›è¡Œåºåˆ—åŒ–ã€‚</p>
<p>å½“æ‚¨æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redisTemplate.opsForValue().set(<span class="string">&quot;city123&quot;</span>, <span class="string">&quot;beijing&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>é”® <code>&quot;city123&quot;</code> å°†è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶å½¢å¼ï¼Œå¦‚åœ¨Rediså‘½ä»¤è¡Œä¸­é€šè¿‡ <code>keys *</code> å‘½ä»¤çœ‹åˆ°çš„é‚£æ ·ã€‚</p>
<p>ä¸ºäº†é¿å…ä½¿ç”¨Javaæ ‡å‡†åºåˆ—åŒ–ï¼Œæ‚¨å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ <code>RedisTemplate</code> çš„åºåˆ—åŒ–å™¨æ¥æ›´æ”¹è¿™ä¸€è¡Œä¸ºã€‚é€šå¸¸ï¼Œå¯¹äºå€¼ï¼ˆValueï¼‰ï¼Œä¸éœ€è¦æ›´æ”¹åºåˆ—åŒ–å™¨ï¼Œå› ä¸ºä»Redisä¸­è·å–æ—¶å°†è‡ªåŠ¨è¿›è¡Œååºåˆ—åŒ–ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¦‚ä½•è®¾ç½® <code>RedisTemplate</code> çš„åºåˆ—åŒ–å™¨</p>
<p>ä¸€èˆ¬æ¥è¯´ Value æ— éœ€æ›´æ¢ç³»åˆ—åŒ–å™¨ï¼Œå› ä¸ºä»ä»£ç è·å–æ—¶ä¼šè‡ªåŠ¨ååºåˆ—åŒ–</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> <span class="keyword">extends</span> <span class="title class_">CachingConfigurerSupport</span>&#123;</span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> RedisTemplate&lt;Object, Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory connectionFactory)</span> &#123;</span><br><span class="line">    RedisTemplate&lt;Object, Object&gt; redisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é»˜è®¤çš„Keyåºåˆ—åŒ–å™¨ä¸ºï¼šJdkSerializationRedisSerializer</span></span><br><span class="line">    redisTemplate.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">    redisTemplate.setHashKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line"></span><br><span class="line">    redisTemplate.setConnectionFactory(connectionFactory);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> redisTemplate;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5ã€æµ‹è¯•"><strong>5ã€æµ‹è¯•</strong></h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringDataRedisTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œStringç±»å‹æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span>&#123;</span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;city123&quot;</span>,<span class="string">&quot;beijing&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> (String) redisTemplate.opsForValue().get(<span class="string">&quot;city123&quot;</span>);</span><br><span class="line">        System.out.println(value);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®è¶…æ—¶æ—¶é—´</span></span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;value1&quot;</span>,<span class="number">10l</span>, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">aBoolean</span> <span class="operator">=</span> redisTemplate.opsForValue().setIfAbsent(<span class="string">&quot;city1234&quot;</span>, <span class="string">&quot;nanjing&quot;</span>);</span><br><span class="line">        System.out.println(aBoolean);</span><br><span class="line"></span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;city123&quot;</span>);</span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;city1234&quot;</span>);</span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;key1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œHashç±»å‹æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testHash</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">HashOperations</span> <span class="variable">hashOperations</span> <span class="operator">=</span> redisTemplate.opsForHash();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å­˜å€¼</span></span><br><span class="line">        hashOperations.put(<span class="string">&quot;002&quot;</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;xiaoming&quot;</span>);</span><br><span class="line">        hashOperations.put(<span class="string">&quot;002&quot;</span>,<span class="string">&quot;age&quot;</span>,<span class="string">&quot;20&quot;</span>);</span><br><span class="line">        hashOperations.put(<span class="string">&quot;002&quot;</span>,<span class="string">&quot;address&quot;</span>,<span class="string">&quot;bj&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å–å€¼</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">age</span> <span class="operator">=</span> (String) hashOperations.get(<span class="string">&quot;002&quot;</span>, <span class="string">&quot;age&quot;</span>);</span><br><span class="line">        System.out.println(age);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å¾—hashç»“æ„ä¸­çš„æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">keys</span> <span class="operator">=</span> hashOperations.keys(<span class="string">&quot;002&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object key : keys) &#123;</span><br><span class="line">            System.out.println(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å¾—hashç»“æ„ä¸­çš„æ‰€æœ‰å€¼</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">values</span> <span class="operator">=</span> hashOperations.values(<span class="string">&quot;002&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object value : values) &#123;</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;002&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œListç±»å‹çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testList</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">ListOperations</span> <span class="variable">listOperations</span> <span class="operator">=</span> redisTemplate.opsForList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å­˜å€¼</span></span><br><span class="line">        listOperations.leftPush(<span class="string">&quot;mylist&quot;</span>,<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        listOperations.leftPushAll(<span class="string">&quot;mylist&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å–å€¼</span></span><br><span class="line">        List&lt;String&gt; mylist = listOperations.range(<span class="string">&quot;mylist&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (String value : mylist) &#123;</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å¾—åˆ—è¡¨é•¿åº¦ llen</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">size</span> <span class="operator">=</span> listOperations.size(<span class="string">&quot;mylist&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">lSize</span> <span class="operator">=</span> size.intValue();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; lSize; i++) &#123;</span><br><span class="line">            <span class="comment">//å‡ºé˜Ÿåˆ—</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">element</span> <span class="operator">=</span> (String) listOperations.rightPop(<span class="string">&quot;mylist&quot;</span>);</span><br><span class="line">            System.out.println(element);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;mylist&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œSetç±»å‹çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSet</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SetOperations</span> <span class="variable">setOperations</span> <span class="operator">=</span> redisTemplate.opsForSet();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å­˜å€¼</span></span><br><span class="line">        setOperations.add(<span class="string">&quot;myset&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;a&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å–å€¼</span></span><br><span class="line">        Set&lt;String&gt; myset = setOperations.members(<span class="string">&quot;myset&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String o : myset) &#123;</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ é™¤æˆå‘˜</span></span><br><span class="line">        setOperations.remove(<span class="string">&quot;myset&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å–å€¼</span></span><br><span class="line">        myset = setOperations.members(<span class="string">&quot;myset&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String o : myset) &#123;</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;myset&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œZSetç±»å‹çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testZset</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">ZSetOperations</span> <span class="variable">zSetOperations</span> <span class="operator">=</span> redisTemplate.opsForZSet();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å­˜å€¼</span></span><br><span class="line">        zSetOperations.add(<span class="string">&quot;myZset&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="number">10.0</span>);</span><br><span class="line">        zSetOperations.add(<span class="string">&quot;myZset&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="number">11.0</span>);</span><br><span class="line">        zSetOperations.add(<span class="string">&quot;myZset&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="number">12.0</span>);</span><br><span class="line">        zSetOperations.add(<span class="string">&quot;myZset&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="number">13.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å–å€¼</span></span><br><span class="line">        Set&lt;String&gt; myZset = zSetOperations.range(<span class="string">&quot;myZset&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : myZset) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¿®æ”¹åˆ†æ•°</span></span><br><span class="line">        zSetOperations.incrementScore(<span class="string">&quot;myZset&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="number">20.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å–å€¼</span></span><br><span class="line">        myZset = zSetOperations.range(<span class="string">&quot;myZset&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : myZset) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ é™¤æˆå‘˜</span></span><br><span class="line">        zSetOperations.remove(<span class="string">&quot;myZset&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å–å€¼</span></span><br><span class="line">        myZset = zSetOperations.range(<span class="string">&quot;myZset&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : myZset) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;myZset&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šç”¨æ“ä½œï¼Œé’ˆå¯¹ä¸åŒçš„æ•°æ®ç±»å‹éƒ½å¯ä»¥æ“ä½œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCommon</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//è·å–Redisä¸­æ‰€æœ‰çš„key</span></span><br><span class="line">        Set&lt;String&gt; keys = redisTemplate.keys(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String key : keys) &#123;</span><br><span class="line">            System.out.println(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ¤æ–­æŸä¸ªkeyæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">itcast</span> <span class="operator">=</span> redisTemplate.hasKey(<span class="string">&quot;itcast&quot;</span>);</span><br><span class="line">        System.out.println(itcast);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ é™¤æŒ‡å®škey</span></span><br><span class="line">        redisTemplate.delete(<span class="string">&quot;myZset&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–æŒ‡å®škeyå¯¹åº”çš„valueçš„æ•°æ®ç±»å‹</span></span><br><span class="line">        <span class="type">DataType</span> <span class="variable">dataType</span> <span class="operator">=</span> redisTemplate.type(<span class="string">&quot;myset&quot;</span>);</span><br><span class="line">        System.out.println(dataType.name());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="main-hero-waves-area"><div class="waves-area"><svg class="waves-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1440 140" preserveAspectRatio="none"><path class="parallax" d="M 0 44 C 355 167 415 0 725 44 L 725 44 L 0 44 Z"></path><use class="parallax" xlink:href="#wave1" x="48" y="3"></use><use class="parallax" xlink:href="#wave1" x="48" y="5"></use><use class="parallax" xlink:href="#wave1" x="48" y="7"></use><use class="parallax" xlink:href="#wave1" x="48" y="9"></use></svg></div></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://labi.com">Lorinda</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://labi.com/post/reggie-optimization.html">http://labi.com/post/reggie-optimization.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="http://labi.com" target="_blank">èœ¡ç¬”æ¢¦å·¥å‚</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">æ€§èƒ½ä¼˜åŒ–</a><a class="post-meta__tags" href="/tags/Redis%E7%BC%93%E5%AD%98/">Redisç¼“å­˜</a><a class="post-meta__tags" href="/tags/%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/">è¯»å†™åˆ†ç¦»</a><a class="post-meta__tags" href="/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">æ¶æ„è®¾è®¡</a><a class="post-meta__tags" href="/tags/%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98/">ç³»ç»Ÿè°ƒä¼˜</a></div><div class="post-share"><div class="social-share" data-image="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/post/reggie-mobile.html" title="ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155656.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°</div></div><div class="info-2"><div class="info-item-1">è¯¦è§£ç‘å‰å¤–å–ç§»åŠ¨ç«¯ç”¨æˆ·ç«¯å¼€å‘ï¼ŒåŒ…æ‹¬æ‰‹æœºéªŒè¯ç ç™»å½•ã€åœ°å€ç°¿ç®¡ç†ã€èœå“ / å¥—é¤å±•ç¤ºã€è´­ç‰©è½¦å¢åˆ æ”¹æŸ¥ã€ç”¨æˆ·è®¢å•åˆ›å»ºä¸å†æ¥ä¸€å•åŠŸèƒ½ï¼ŒåŠå‰åç«¯æ¥å£äº¤äº’é€»è¾‘ã€‚</div></div></div></a><a class="pagination-related" href="/post/reggie-deployment.html" title="ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112758.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²</div></div><div class="info-2"><div class="info-item-1">è¯¦è§£ç‘å‰å¤–å–éƒ¨ç½²æµç¨‹ï¼ŒåŒ…æ‹¬Linuxç¯å¢ƒé…ç½®ã€Gitç‰ˆæœ¬ç®¡ç†ã€è‡ªåŠ¨åŒ–è„šæœ¬ä¸é¡¹ç›®å‘å¸ƒå®è·µã€‚</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="card-info-avatar"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155535.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="palm_tree" fallback-src="https://lskypro.acozycotage.net/LightPicture/2022/12/fe1dc0402e623096.jpg">ğŸŸ</g-emoji><span>è®¤çœŸæ‘¸é±¼ä¸­</span></div></div></div><div class="author-info-name">Lorinda</div><div class="author-info-description">æ¬¢è¿æ¥åˆ°Lorindaçš„ä¸ªäººåšå®¢\^o^/</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">112</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://lr0513.github.io/"><i class="fab fa-github"></i><span>ä½ å›æ¥äº†~</span><i class="faa-passing animated" style="padding-left:20px;display:inline-block;vertical-align:middle;"><svg class="icon" style="height:28px;width:28px;fill:currentColor;position:relative;top:5px"><use xlink:href="#icon-hexolabixiaoxin1"></use></svg></i></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content"></div><div id="welcome-info"></div></div><div class="xpand" style="height:200px;"><canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas></div><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople1.js"></script><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/zdog.dist.js"></script><script id="rendered-js" src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople.js"></script><style>.card-widget.card-announcement {
margin: 0;
align-items: center;
justify-content: center;
text-align: center;
}
canvas {
display: block;
margin: 0 auto;
cursor: move;
}</style><div class="card-widget" id="newYear"><div class="item-headline"><i></i><span></span></div><div class="item-content"><div id="newYear-main"><div class="mask"></div> <p class="title"></p> <div class="newYear-time"></div> <p class="today" style="text-align: right;"></p> </div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">ç¯å¢ƒæ­å»º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-number">2.</span> <span class="toc-text">ç¼“å­˜çŸ­ä¿¡éªŒè¯ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E8%8F%9C%E5%93%81%E6%95%B0%E6%8D%AE"><span class="toc-number">3.</span> <span class="toc-text">ç¼“å­˜èœå“æ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-Cache"><span class="toc-number">4.</span> <span class="toc-text">Spring Cache</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E6%B3%A8%E8%A7%A3%E8%AF%A6%E8%A7%A3%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">ç¼“å­˜æ³¨è§£è¯¦è§£ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-number">4.2.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BA%E7%8E%B0%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%9A"><span class="toc-number">4.3.</span> <span class="toc-text">å‡ºç°ç¼“å­˜ç©¿é€çš„æƒ…å†µï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E5%BC%8F"><span class="toc-number">4.4.</span> <span class="toc-text">å¤„ç†ç¼“å­˜ç©¿é€çš„æ­£ç¡®æ–¹å¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E5%A5%97%E9%A4%90%E6%95%B0%E6%8D%AE"><span class="toc-number">5.</span> <span class="toc-text">ç¼“å­˜å¥—é¤æ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB"><span class="toc-number">6.</span> <span class="toc-text">è¯»å†™åˆ†ç¦»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6"><span class="toc-number">6.1.</span> <span class="toc-text">MySQLä¸»ä»å¤åˆ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E7%9A%84%E7%BA%BF%E7%A8%8B%EF%BC%9A"><span class="toc-number">6.2.</span> <span class="toc-text">ä¸»ä»å¤åˆ¶çš„çº¿ç¨‹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">6.3.</span> <span class="toc-text">ä¸»ä»å¤åˆ¶çš„ç±»å‹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A-2"><span class="toc-number">6.4.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB-2"><span class="toc-number">6.5.</span> <span class="toc-text">è¯»å†™åˆ†ç¦»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sharding-JDBC"><span class="toc-number">6.6.</span> <span class="toc-text">Sharding-JDBC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E6%A1%88%E4%BE%8B"><span class="toc-number">6.7.</span> <span class="toc-text">è¯»å†™åˆ†ç¦»æ¡ˆä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB"><span class="toc-number">6.8.</span> <span class="toc-text">é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nginx"><span class="toc-number">7.</span> <span class="toc-text">Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx%E5%91%BD%E4%BB%A4"><span class="toc-number">7.1.</span> <span class="toc-text">Nginxå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%AD%A3%E7%A1%AE%E6%80%A7"><span class="toc-number">7.2.</span> <span class="toc-text">æ£€æŸ¥é…ç½®æ–‡ä»¶æ­£ç¡®æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-number">7.3.</span> <span class="toc-text">Nginxé…ç½®æ–‡ä»¶ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx%E5%85%B7%E4%BD%93%E5%BA%94%E7%94%A8"><span class="toc-number">7.4.</span> <span class="toc-text">Nginxå…·ä½“åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%EF%BC%9F"><span class="toc-number">7.5.</span> <span class="toc-text">1. ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%80%E4%B9%88%E6%98%AF%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%EF%BC%9F"><span class="toc-number">7.6.</span> <span class="toc-text">2. ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx%E4%B8%AD%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%92%8C%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">7.7.</span> <span class="toc-text">Nginxä¸­åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡çš„å…³ç³»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E5%BC%80%E5%8F%91"><span class="toc-number">8.</span> <span class="toc-text">å‰åç«¯åˆ†ç¦»å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#YApi"><span class="toc-number">8.1.</span> <span class="toc-text">YApi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Swagger"><span class="toc-number">8.2.</span> <span class="toc-text">Swagger</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2"><span class="toc-number">8.3.</span> <span class="toc-text">é¡¹ç›®éƒ¨ç½²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3-Linux-%E4%B8%8B%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-number">8.4.</span> <span class="toc-text">è§£å†³ Linux ä¸‹å›¾ç‰‡è·¯å¾„é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2"><span class="toc-number">9.</span> <span class="toc-text">æœåŠ¡å¯åŠ¨ä¸åœæ­¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2"><span class="toc-number">9.1.</span> <span class="toc-text">Linux å¯åŠ¨ä¸åœæ­¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows-%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2%E6%9C%8D%E5%8A%A1"><span class="toc-number">9.2.</span> <span class="toc-text">Windows å¯åŠ¨ä¸åœæ­¢æœåŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E5%BC%80%E5%90%AF%E5%AF%86%E7%A0%81%E6%A0%A1%E9%AA%8C"><span class="toc-number">9.3.</span> <span class="toc-text">Linux å¼€å¯å¯†ç æ ¡éªŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="toc-number">9.4.</span> <span class="toc-text">Linux å¼€å¯è¿œç¨‹è¿æ¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">10.</span> <span class="toc-text">Redis æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">10.1.</span> <span class="toc-text">ä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-String-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">10.2.</span> <span class="toc-text">å­—ç¬¦ä¸² String æ“ä½œå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C-hash-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">10.3.</span> <span class="toc-text">å“ˆå¸Œ hash æ“ä½œå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8-list-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">10.4.</span> <span class="toc-text">åˆ—è¡¨ list æ“ä½œå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88-set-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">10.5.</span> <span class="toc-text">é›†åˆ set æ“ä½œå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88-sorted-set-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">10.6.</span> <span class="toc-text">æœ‰åºé›†åˆ sorted set æ“ä½œå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">10.7.</span> <span class="toc-text">é€šç”¨å‘½ä»¤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8-Java-%E4%B8%AD%E6%93%8D%E4%BD%9C-Redis"><span class="toc-number">11.</span> <span class="toc-text">åœ¨ Java ä¸­æ“ä½œ Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E4%BB%8B%E7%BB%8D"><span class="toc-number">11.1.</span> <span class="toc-text">1ã€ä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Jedis"><span class="toc-number">11.2.</span> <span class="toc-text">2ã€Jedis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Data-Redis"><span class="toc-number">11.3.</span> <span class="toc-text">Spring Data Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E4%BE%9D%E8%B5%96"><span class="toc-number">11.4.</span> <span class="toc-text">1ã€ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81RedisTemplate-%E7%B1%BB"><span class="toc-number">11.5.</span> <span class="toc-text">2ã€RedisTemplateÂ ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81application-yml"><span class="toc-number">11.6.</span> <span class="toc-text">3ã€application.yml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E8%AE%BE%E7%BD%AE-RedisTemplate-%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E5%99%A8"><span class="toc-number">11.7.</span> <span class="toc-text">4ã€è®¾ç½® RedisTemplate çš„åºåˆ—åŒ–å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%B5%8B%E8%AF%95"><span class="toc-number">11.8.</span> <span class="toc-text">5ã€æµ‹è¯•</span></a></li></ol></li></ol></div></div><div class="card-widget card-post-series"><div class="item-headline"><i class="fa-solid fa-layer-group"></i><span>ç³»åˆ—æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-deployment.html" title="ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112758.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²"></a><div class="content"><a class="title" href="/post/reggie-deployment.html" title="ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²">ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²</a><time datetime="2025-09-02T02:04:00.000Z" title="å‘è¡¨äº 2025-09-02 10:04:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-optimization.html" title="ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§"></a><div class="content"><a class="title" href="/post/reggie-optimization.html" title="ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§">ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§</a><time datetime="2025-09-02T02:03:00.000Z" title="å‘è¡¨äº 2025-09-02 10:03:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-mobile.html" title="ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155656.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°"></a><div class="content"><a class="title" href="/post/reggie-mobile.html" title="ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°">ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°</a><time datetime="2025-09-02T02:02:00.000Z" title="å‘è¡¨äº 2025-09-02 10:02:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-business.html" title="ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘"></a><div class="content"><a class="title" href="/post/reggie-business.html" title="ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘">ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘</a><time datetime="2025-09-02T02:01:00.000Z" title="å‘è¡¨äº 2025-09-02 10:01:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-overview.html" title="ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„"></a><div class="content"><a class="title" href="/post/reggie-overview.html" title="ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„">ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„</a><time datetime="2025-09-02T02:00:00.000Z" title="å‘è¡¨äº 2025-09-02 10:00:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ce4585c2.html" title="å‰ç«¯å®ç°ï¼šç•Œé¢ä¸äº¤äº’é€»è¾‘"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112938.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="å‰ç«¯å®ç°ï¼šç•Œé¢ä¸äº¤äº’é€»è¾‘"></a><div class="content"><a class="title" href="/post/ce4585c2.html" title="å‰ç«¯å®ç°ï¼šç•Œé¢ä¸äº¤äº’é€»è¾‘">å‰ç«¯å®ç°ï¼šç•Œé¢ä¸äº¤äº’é€»è¾‘</a><time datetime="2025-08-30T03:03:00.000Z" title="å‘è¡¨äº 2025-08-30 11:03:00">2025-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/d67b0a8b.html" title="æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼šä¸šåŠ¡æµç¨‹å®ç°"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112813.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼šä¸šåŠ¡æµç¨‹å®ç°"></a><div class="content"><a class="title" href="/post/d67b0a8b.html" title="æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼šä¸šåŠ¡æµç¨‹å®ç°">æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼šä¸šåŠ¡æµç¨‹å®ç°</a><time datetime="2025-08-30T03:02:00.000Z" title="å‘è¡¨äº 2025-08-30 11:02:00">2025-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/b85186f.html" title="åŸºç¡€å¼€å‘ï¼šç¯å¢ƒæ­å»ºä¸æ ¸å¿ƒé…ç½®"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112626.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="åŸºç¡€å¼€å‘ï¼šç¯å¢ƒæ­å»ºä¸æ ¸å¿ƒé…ç½®"></a><div class="content"><a class="title" href="/post/b85186f.html" title="åŸºç¡€å¼€å‘ï¼šç¯å¢ƒæ­å»ºä¸æ ¸å¿ƒé…ç½®">åŸºç¡€å¼€å‘ï¼šç¯å¢ƒæ­å»ºä¸æ ¸å¿ƒé…ç½®</a><time datetime="2025-08-30T03:01:00.000Z" title="å‘è¡¨äº 2025-08-30 11:01:00">2025-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/25e0fe54.html" title="é¡¹ç›®æ¦‚è¿°ï¼šæ¶æ„ä¸éœ€æ±‚åˆ†æ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112618.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="é¡¹ç›®æ¦‚è¿°ï¼šæ¶æ„ä¸éœ€æ±‚åˆ†æ"></a><div class="content"><a class="title" href="/post/25e0fe54.html" title="é¡¹ç›®æ¦‚è¿°ï¼šæ¶æ„ä¸éœ€æ±‚åˆ†æ">é¡¹ç›®æ¦‚è¿°ï¼šæ¶æ„ä¸éœ€æ±‚åˆ†æ</a><time datetime="2025-08-30T03:00:00.000Z" title="å‘è¡¨äº 2025-08-30 11:00:00">2025-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/g86c4e7a.html" title="ç¬¬ 7 ç«  è®¡ç®—æœºç³»ç»Ÿç»“æ„"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112914.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 7 ç«  è®¡ç®—æœºç³»ç»Ÿç»“æ„"></a><div class="content"><a class="title" href="/post/g86c4e7a.html" title="ç¬¬ 7 ç«  è®¡ç®—æœºç³»ç»Ÿç»“æ„">ç¬¬ 7 ç«  è®¡ç®—æœºç³»ç»Ÿç»“æ„</a><time datetime="2025-08-28T21:20:00.000Z" title="å‘è¡¨äº 2025-08-29 05:20:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/f75b3d6f.html" title="ç¬¬ 6 ç«  è¾“å…¥è¾“å‡ºç³»ç»Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112813.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 6 ç«  è¾“å…¥è¾“å‡ºç³»ç»Ÿ"></a><div class="content"><a class="title" href="/post/f75b3d6f.html" title="ç¬¬ 6 ç«  è¾“å…¥è¾“å‡ºç³»ç»Ÿ">ç¬¬ 6 ç«  è¾“å…¥è¾“å‡ºç³»ç»Ÿ</a><time datetime="2025-08-28T21:19:00.000Z" title="å‘è¡¨äº 2025-08-29 05:19:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/169339cb.html" title="ç¬¬ 5 ç«  è¾“å…¥è¾“å‡ºç®¡ç†ï¼šè®¾å¤‡ååŒä¸ä¼˜åŒ–"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 5 ç«  è¾“å…¥è¾“å‡ºç®¡ç†ï¼šè®¾å¤‡ååŒä¸ä¼˜åŒ–"></a><div class="content"><a class="title" href="/post/169339cb.html" title="ç¬¬ 5 ç«  è¾“å…¥è¾“å‡ºç®¡ç†ï¼šè®¾å¤‡ååŒä¸ä¼˜åŒ–">ç¬¬ 5 ç«  è¾“å…¥è¾“å‡ºç®¡ç†ï¼šè®¾å¤‡ååŒä¸ä¼˜åŒ–</a><time datetime="2025-08-28T21:18:00.000Z" title="å‘è¡¨äº 2025-08-29 05:18:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/d64a2c5e.html" title="ç¬¬ 5 ç«  ä¸­å¤®å¤„ç†å™¨"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112626.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 5 ç«  ä¸­å¤®å¤„ç†å™¨"></a><div class="content"><a class="title" href="/post/d64a2c5e.html" title="ç¬¬ 5 ç«  ä¸­å¤®å¤„ç†å™¨">ç¬¬ 5 ç«  ä¸­å¤®å¤„ç†å™¨</a><time datetime="2025-08-28T21:18:00.000Z" title="å‘è¡¨äº 2025-08-29 05:18:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/790dfc8c.html" title="ç¬¬ 4 ç«  æ–‡ä»¶ç®¡ç†ï¼šå­˜å‚¨ä¸è®¿é—®æœºåˆ¶"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 4 ç«  æ–‡ä»¶ç®¡ç†ï¼šå­˜å‚¨ä¸è®¿é—®æœºåˆ¶"></a><div class="content"><a class="title" href="/post/790dfc8c.html" title="ç¬¬ 4 ç«  æ–‡ä»¶ç®¡ç†ï¼šå­˜å‚¨ä¸è®¿é—®æœºåˆ¶">ç¬¬ 4 ç«  æ–‡ä»¶ç®¡ç†ï¼šå­˜å‚¨ä¸è®¿é—®æœºåˆ¶</a><time datetime="2025-08-28T21:17:00.000Z" title="å‘è¡¨äº 2025-08-29 05:17:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/b93e5f6d.html" title="ç¬¬ 4 ç«  æŒ‡ä»¤ç³»ç»Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112914.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 4 ç«  æŒ‡ä»¤ç³»ç»Ÿ"></a><div class="content"><a class="title" href="/post/b93e5f6d.html" title="ç¬¬ 4 ç«  æŒ‡ä»¤ç³»ç»Ÿ">ç¬¬ 4 ç«  æŒ‡ä»¤ç³»ç»Ÿ</a><time datetime="2025-08-28T21:17:00.000Z" title="å‘è¡¨äº 2025-08-29 05:17:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ce20e5e9.html" title="ç¬¬ 3 ç«  å†…å­˜ç®¡ç†ï¼šåœ°å€æ˜ å°„ä¸è™šæ‹Ÿå†…å­˜"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 3 ç«  å†…å­˜ç®¡ç†ï¼šåœ°å€æ˜ å°„ä¸è™šæ‹Ÿå†…å­˜"></a><div class="content"><a class="title" href="/post/ce20e5e9.html" title="ç¬¬ 3 ç«  å†…å­˜ç®¡ç†ï¼šåœ°å€æ˜ å°„ä¸è™šæ‹Ÿå†…å­˜">ç¬¬ 3 ç«  å†…å­˜ç®¡ç†ï¼šåœ°å€æ˜ å°„ä¸è™šæ‹Ÿå†…å­˜</a><time datetime="2025-08-28T21:16:00.000Z" title="å‘è¡¨äº 2025-08-29 05:16:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/a81d4c7b.html" title="ç¬¬ 3 ç«  å­˜å‚¨ç³»ç»Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 3 ç«  å­˜å‚¨ç³»ç»Ÿ"></a><div class="content"><a class="title" href="/post/a81d4c7b.html" title="ç¬¬ 3 ç«  å­˜å‚¨ç³»ç»Ÿ">ç¬¬ 3 ç«  å­˜å‚¨ç³»ç»Ÿ</a><time datetime="2025-08-28T21:16:00.000Z" title="å‘è¡¨äº 2025-08-29 05:16:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/833e46bb.html" title="ç¬¬ 2 ç«  è¿›ç¨‹ä¸çº¿ç¨‹ï¼šå¹¶å‘ç®¡ç†æ ¸å¿ƒ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112650.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 2 ç«  è¿›ç¨‹ä¸çº¿ç¨‹ï¼šå¹¶å‘ç®¡ç†æ ¸å¿ƒ"></a><div class="content"><a class="title" href="/post/833e46bb.html" title="ç¬¬ 2 ç«  è¿›ç¨‹ä¸çº¿ç¨‹ï¼šå¹¶å‘ç®¡ç†æ ¸å¿ƒ">ç¬¬ 2 ç«  è¿›ç¨‹ä¸çº¿ç¨‹ï¼šå¹¶å‘ç®¡ç†æ ¸å¿ƒ</a><time datetime="2025-08-28T21:15:00.000Z" title="å‘è¡¨äº 2025-08-29 05:15:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/e72f3b9c.html" title="ç¬¬ 2 ç«  æ•°æ®çš„è¡¨ç¤ºä¸è®¡ç®—"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112855.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 2 ç«  æ•°æ®çš„è¡¨ç¤ºä¸è®¡ç®—"></a><div class="content"><a class="title" href="/post/e72f3b9c.html" title="ç¬¬ 2 ç«  æ•°æ®çš„è¡¨ç¤ºä¸è®¡ç®—">ç¬¬ 2 ç«  æ•°æ®çš„è¡¨ç¤ºä¸è®¡ç®—</a><time datetime="2025-08-28T21:15:00.000Z" title="å‘è¡¨äº 2025-08-29 05:15:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/b328aa63.html" title="ç¬¬ 1 ç«  æ“ä½œç³»ç»Ÿæ¦‚è¿°ï¼šè®¡ç®—æœºç³»ç»ŸåŸºç¡€"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 1 ç«  æ“ä½œç³»ç»Ÿæ¦‚è¿°ï¼šè®¡ç®—æœºç³»ç»ŸåŸºç¡€"></a><div class="content"><a class="title" href="/post/b328aa63.html" title="ç¬¬ 1 ç«  æ“ä½œç³»ç»Ÿæ¦‚è¿°ï¼šè®¡ç®—æœºç³»ç»ŸåŸºç¡€">ç¬¬ 1 ç«  æ“ä½œç³»ç»Ÿæ¦‚è¿°ï¼šè®¡ç®—æœºç³»ç»ŸåŸºç¡€</a><time datetime="2025-08-28T21:14:00.000Z" title="å‘è¡¨äº 2025-08-29 05:14:00">2025-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/c45d1e8a.html" title="ç¬¬ 1 ç«  è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¬ 1 ç«  è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°"></a><div class="content"><a class="title" href="/post/c45d1e8a.html" title="ç¬¬ 1 ç«  è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°">ç¬¬ 1 ç«  è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°</a><time datetime="2025-08-28T21:14:00.000Z" title="å‘è¡¨äº 2025-08-29 05:14:00">2025-08-29</time></div></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-deployment.html" title="ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112758.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²"/></a><div class="content"><a class="title" href="/post/reggie-deployment.html" title="ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²">ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²</a><time datetime="2025-09-02T02:04:00.000Z" title="å‘è¡¨äº 2025-09-02 10:04:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-optimization.html" title="ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§"/></a><div class="content"><a class="title" href="/post/reggie-optimization.html" title="ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§">ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§</a><time datetime="2025-09-02T02:03:00.000Z" title="å‘è¡¨äº 2025-09-02 10:03:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-mobile.html" title="ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155656.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°"/></a><div class="content"><a class="title" href="/post/reggie-mobile.html" title="ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°">ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°</a><time datetime="2025-09-02T02:02:00.000Z" title="å‘è¡¨äº 2025-09-02 10:02:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-business.html" title="ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘"/></a><div class="content"><a class="title" href="/post/reggie-business.html" title="ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘">ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘</a><time datetime="2025-09-02T02:01:00.000Z" title="å‘è¡¨äº 2025-09-02 10:01:00">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/reggie-overview.html" title="ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„"/></a><div class="content"><a class="title" href="/post/reggie-overview.html" title="ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„">ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„</a><time datetime="2025-09-02T02:00:00.000Z" title="å‘è¡¨äº 2025-09-02 10:00:00">2025-09-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025  <i id="heartbeat" class="fa fas fa-heartbeat"></i> By Lorinda</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="åšå®¢æ¡†æ¶ä¸ºHexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="ä¸»é¢˜é‡‡ç”¨butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œè”é€šçº¿è·¯æ‰˜ç®¡äºCoding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="æœ¬ç«™é¡¹ç›®ç”±Gtihubæ‰˜ç®¡"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯"></a></p></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>å¤åˆ¶</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>ç™¾åº¦æœç´¢</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>ç²˜è´´</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>å¤åˆ¶æœ¬æ–‡åœ°å€</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>ä¿å­˜å›¾ç‰‡</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>åœ¨æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>æ˜¼å¤œåˆ‡æ¢</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();"><i class="fa fa-book"></i><span>é˜…è¯»æ¨¡å¼</span></a><a class="rightMenu-item" href="/about/"><i class="fa fa-info-circle"></i><span>å…³äºåšå®¢</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>åˆ‡æ¢å…¨å±</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="to_comment" type="button" title="å‰å¾€è¯„è®º" onclick="FixedCommentBtn();"><i class="fas fa-comments"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js" type="module"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/19.1.3/lazyload.iife.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js"></script><script>(() => {
  const panguFn = () => {
    if (typeof pangu === 'object') pangu.autoSpacingPage()
    else {
      btf.getScript('https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js')
        .then(() => {
          pangu.autoSpacingPage()
        })
    }
  }

  const panguInit = () => {
    if (false){
      GLOBAL_CONFIG_SITE.isPost && panguFn()
    } else {
      panguFn()
    }
  }

  btf.addGlobalFn('pjaxComplete', panguInit, 'pangu')
  document.addEventListener('DOMContentLoaded', panguInit)
})()</script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-api-three-beta.vercel.app/',
      region: 'ap-beijing',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoo-api-three-beta.vercel.app/',
      region: 'ap-beijing',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script async src="//at.alicdn.com/t/c/font_4860073_9duzoqyl2cn.js"></script><script defer data-pjax src="/js/readPercent.js"></script><script src="/js/pagination-jump.js"></script><script async src="/js/fps.js"></script><script async data-pjax src="/js/txmap.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async data-pjax src="/js/music.js"></script><script defer src="/js/lunar.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script type="text/javascript" src="https://cdn1.tianli0.top/npm/jquery@latest/dist/jquery.min.js"></script><script> let backimg =["url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/d42bcc24810cda2c22eaed769b79a93.jpg)","url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/2f5e89ae13329dd89bdcdbfc68c5fde.jpg)","url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/48b137c38cc79ad960ecf2a9a12fc20.jpg)","url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/4474312751631fedb37381e37cdb9c0.jpg)","url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/be978bd80f41d2781455513ba1676a2.jpg)","url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/a01223e0819746191dd135670a2d7da.jpg)","url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/af380cb8a5ed3f047e66dbfe731f488.jpg)"];let index = Math.floor(Math.random() * backimg.length);;document.getElementById("web_bg").style.backgroundImage = backimg[index]</script><script type="text/javascript" src="/js/rightmenu.js"></script><script src="/js/history.js"></script><script src="/js/historyroll.js"></script><script async src="//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js"></script><script defer src="/js/day.js"></script><script async src="/js/title.js"></script><script defer src="/js/random.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script src="/js/sun_moon.js" async></script><script>
  document.addEventListener('copy', function(e) {
    const selection = window.getSelection().toString()
    if (selection.length > 30) {
      const notice = document.createElement('div')
      notice.className = 'copy-notification'
      notice.textContent = 'å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'

      document.body.appendChild(notice)
      setTimeout(() => notice.classList.add('show'), 10)

      setTimeout(() => {
        notice.classList.remove('show')
        setTimeout(() => notice.remove(), 300)
      }, 2000)
    }
  })
</script>
<div class="aplayer no-destroy" data-id="7338633309" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-lrctype="1" data-preload="none" data-autoplay="true" muted></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async data-pjax src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><script async data-pjax src="/js/newYear.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.4/canvas-nest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.4/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.4/click-show-text.min.js" data-mobile="false" data-text="Ha,Ha,Ha" data-fontsize="15px" data-random="false" async="async"></script><script>(() => {
  window.$crisp = [];
  window.CRISP_WEBSITE_ID = "cbe39e5f-e68f-4a07-b9cd-3ebbb6aa9ae8";
  (function () {
    d = document;
    s = d.createElement("script");
    s.src = "https://client.crisp.chat/l.js";
    s.async = 1;
    d.getElementsByTagName("head")[0].appendChild(s);
  })();
  $crisp.push(["safe", true])

  const isChatBtn = true
  const isChatHideShow = false

  if (isChatBtn) {
    const open = () => {
      $crisp.push(["do", "chat:show"])
      $crisp.push(["do", "chat:open"])
    }

    const close = () => $crisp.push(["do", "chat:hide"])

    close()

    $crisp.push(["on", "chat:closed", close])

    window.chatBtnFn = () => $crisp.is("chat:visible") ? close() : open()

  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => $crisp.push(["do", "chat:hide"]),
      show: () => $crisp.push(["do", "chat:show"])
    }
  }
})()</script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/404.html')
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementsByClassName('recent-posts')[0];
      var item_html = '<div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155818.png);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/æ“ä½œç³»ç»Ÿ/&quot;);" href="javascript:void(0);">æ“ä½œç³»ç»Ÿ</a><span class="categoryBar-list-count">6</span><span class="categoryBar-list-descr">ç³»ç»ŸåŸºç¡€</span></li><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112813.png);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/æŠ€æœ¯æ ˆ/&quot;);" href="javascript:void(0);">æŠ€æœ¯æ ˆ</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">æŠ€æœ¯å·¥å…·</span></li><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112758.png);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/ç¼–ç¨‹è¯­è¨€/&quot;);" href="javascript:void(0);">ç¼–ç¨‹è¯­è¨€</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">è¯­è¨€å…¥é—¨</span></li><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/4e357962b00044466380f6850a120ec.jpg);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/ç‘å‰å¤–å–é¡¹ç›®/&quot;);" href="javascript:void(0);">ç‘å‰å¤–å–é¡¹ç›®</a><span class="categoryBar-list-count">5</span><span class="categoryBar-list-descr">æ•°æŠ€æ ¸å¿ƒ</span></li><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155709.png);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/è®¡ç®—æœºåŸºç¡€/&quot;);" href="javascript:void(0);">è®¡ç®—æœºåŸºç¡€</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">è®¡åŸºè¦ç‚¹</span></li><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160015.png);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/å¤§æ•°æ®æŠ€æœ¯/&quot;);" href="javascript:void(0);">å¤§æ•°æ®æŠ€æœ¯</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">ç‘å‰å®è·µ</span></li><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160113.png);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/è‹ç©¹å¤–å–é¡¹ç›®/&quot;);" href="javascript:void(0);">è‹ç©¹å¤–å–é¡¹ç›®</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr">è‹ç©¹å®è·µ</span></li><li class="categoryBar-list-item" style="background:url(https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155951.png);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/è®¡ç®—æœºåŸºç¡€/ä¸“ä¸šè¯¾/&quot;);" href="javascript:void(0);">ä¸“ä¸šè¯¾</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">ä¸“ä¸šè¯¾ç¨‹</span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/è®¡ç®—æœºç»„æˆåŸç†/&quot;);" href="javascript:void(0);">è®¡ç®—æœºç»„æˆåŸç†</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('å·²æŒ‚è½½butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementsByClassName('recent-posts')[0] && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = '9aac1b5db191491a8993c445d664de8f';
  var gaud_map_key = '3cc01a5a19f500daa0e9e680ef0f6db2';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '120.780172,40.624088';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/g86c4e7a.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112914.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/g86c4e7a.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 7 ç«  è®¡ç®—æœºç³»ç»Ÿç»“æ„</a><div class="blog-slider__text">é˜è¿°è®¡ç®—æœºç³»ç»Ÿç»“æ„çš„åŸºæœ¬æ¦‚å¿µï¼Œåˆ†æå¹¶è¡Œå¤„ç†æŠ€æœ¯çš„å®ç°æ–¹å¼ï¼Œè¯¦è§£å­˜å‚¨å±‚æ¬¡çš„ä¼˜åŒ–ç­–ç•¥ï¼Œä»‹ç»ç³»ç»Ÿæ€§èƒ½çš„è¯„ä»·æŒ‡æ ‡ä¸æ–¹æ³•ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/g86c4e7a.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/f75b3d6f.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112813.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/f75b3d6f.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 6 ç«  è¾“å…¥è¾“å‡ºç³»ç»Ÿ</a><div class="blog-slider__text">ä»‹ç»I/Oè®¾å¤‡çš„åˆ†ç±»ä¸ç‰¹æ€§ï¼Œè¯¦è§£ç¨‹åºæŸ¥è¯¢ã€ä¸­æ–­ä¸DMAä¸‰ç§æ§åˆ¶æ–¹å¼ï¼Œåˆ†æä¸­æ–­ç³»ç»Ÿçš„å¤„ç†æœºåˆ¶ï¼Œç†è§£è®¾å¤‡ä¸ä¸»æœºçš„ä¿¡æ¯äº¤æ¢è¿‡ç¨‹ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/f75b3d6f.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/d64a2c5e.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112626.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/d64a2c5e.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 5 ç«  ä¸­å¤®å¤„ç†å™¨</a><div class="blog-slider__text">è¯¦è§£CPUçš„åŠŸèƒ½ç»„æˆä¸å·¥ä½œåŸç†ï¼Œåˆ†ææ—¶åºç³»ç»Ÿçš„ä½œç”¨ï¼Œå¯¹æ¯”å¾®ç¨‹åºä¸ç¡¬å¸ƒçº¿æ§åˆ¶æ–¹å¼ï¼Œä»‹ç»æµæ°´çº¿æŠ€æœ¯çš„æ€§èƒ½ä¼˜åŒ–æœºåˆ¶ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/d64a2c5e.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/reggie-deployment.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112758.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/reggie-deployment.html&quot;);" href="javascript:void(0);" alt="">ç‘å‰å¤–å–ï¼šLinuxç¯å¢ƒä¸è‡ªåŠ¨åŒ–éƒ¨ç½²</a><div class="blog-slider__text">è¯¦è§£ç‘å‰å¤–å–éƒ¨ç½²æµç¨‹ï¼ŒåŒ…æ‹¬Linuxç¯å¢ƒé…ç½®ã€Gitç‰ˆæœ¬ç®¡ç†ã€è‡ªåŠ¨åŒ–è„šæœ¬ä¸é¡¹ç›®å‘å¸ƒå®è·µã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/reggie-deployment.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/b93e5f6d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112914.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/b93e5f6d.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 4 ç«  æŒ‡ä»¤ç³»ç»Ÿ</a><div class="blog-slider__text">è¯¦è§£æŒ‡ä»¤çš„åŸºæœ¬æ ¼å¼ä¸å¯»å€æ–¹å¼ï¼Œå¯¹æ¯”CISCä¸RISCä½“ç³»ç»“æ„ç‰¹ç‚¹ï¼Œåˆ†ææŒ‡ä»¤çš„æ‰§è¡Œæµç¨‹ï¼Œç†è§£æŒ‡ä»¤ç³»ç»Ÿå¯¹ç¡¬ä»¶çš„é€‚é…å…³ç³»ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/b93e5f6d.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/ce4585c2.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112938.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/ce4585c2.html&quot;);" href="javascript:void(0);" alt="">å‰ç«¯å®ç°ï¼šç•Œé¢ä¸äº¤äº’é€»è¾‘</a><div class="blog-slider__text">è¯¦è§£è‹ç©¹å¤–å–å‰ç«¯å¼€å‘å®ç°ï¼ŒåŒ…æ‹¬Vueç»„ä»¶æ¶æ„è®¾è®¡ã€æ ¸å¿ƒé¡µé¢ï¼ˆç™»å½•ã€é¦–é¡µã€è®¢å•é¡µï¼‰å¼€å‘ï¼Œæ¥å£äº¤äº’å°è£…ä¸çŠ¶æ€ç®¡ç†ï¼Œç¡®ä¿å‰ç«¯ç•Œé¢ä¸åç«¯æœåŠ¡é«˜æ•ˆååŒã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/ce4585c2.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/reggie-optimization.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/reggie-optimization.html&quot;);" href="javascript:void(0);" alt="">ç‘å‰å¤–å–ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„å‡çº§</a><div class="blog-slider__text">è¯¦è§£ç‘å‰å¤–å–ä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŒ…æ‹¬Redisç¼“å­˜åº”ç”¨ã€æ•°æ®åº“è¯»å†™åˆ†ç¦»ã€ç³»ç»Ÿæ¶æ„å‡çº§ç­‰æ€§èƒ½æå‡æ‰‹æ®µã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/reggie-optimization.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/a81d4c7b.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/a81d4c7b.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 3 ç«  å­˜å‚¨ç³»ç»Ÿ</a><div class="blog-slider__text">åˆ†æå­˜å‚¨ç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„è®¾è®¡ï¼Œè¯¦è§£ä¸»å­˜å‚¨å™¨çš„ç»„æˆä¸å·¥ä½œæµç¨‹ï¼Œé˜è¿°Cacheçš„æ˜ å°„æ–¹å¼ä¸æ›¿æ¢ç­–ç•¥ï¼Œä»‹ç»å­˜å‚¨å™¨æ€§èƒ½ä¼˜åŒ–æ–¹æ³•ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/a81d4c7b.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/d67b0a8b.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112813.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/d67b0a8b.html&quot;);" href="javascript:void(0);" alt="">æ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼šä¸šåŠ¡æµç¨‹å®ç°</a><div class="blog-slider__text">èšç„¦è‹ç©¹å¤–å–æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘ï¼Œè¯¦è§£ç”¨æˆ·ç®¡ç†ã€èœå“ç®¡ç†ã€è®¢å•å…¨æµç¨‹åŠè´­ç‰©è½¦äº¤äº’é€»è¾‘ï¼Œç»“åˆæ•°æ®ç»Ÿè®¡åŠŸèƒ½å®ç°ä¸šåŠ¡é—­ç¯ï¼Œè¦†ç›–é¡¹ç›®æ ¸å¿ƒåœºæ™¯ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/d67b0a8b.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/e72f3b9c.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112855.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/e72f3b9c.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 2 ç«  æ•°æ®çš„è¡¨ç¤ºä¸è®¡ç®—</a><div class="blog-slider__text">è¯¦è§£æ•°åˆ¶è½¬æ¢è§„åˆ™ï¼Œé˜è¿°å®šç‚¹æ•°ä¸æµ®ç‚¹æ•°çš„è¡¨ç¤ºæ–¹æ³•ï¼Œåˆ†æè¡¥ç è¿ç®—æœºåˆ¶ï¼Œä»‹ç»ALUçš„åŠŸèƒ½ä¸å®ç°ï¼ŒæŒæ¡æ•°æ®åœ¨è®¡ç®—æœºä¸­çš„å¤„ç†æ–¹å¼ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/e72f3b9c.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/b85186f.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112626.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/b85186f.html&quot;);" href="javascript:void(0);" alt="">åŸºç¡€å¼€å‘ï¼šç¯å¢ƒæ­å»ºä¸æ ¸å¿ƒé…ç½®</a><div class="blog-slider__text">è¯¦è§£è‹ç©¹å¤–å–é¡¹ç›®åŸºç¡€å¼€å‘æµç¨‹ï¼ŒåŒ…æ‹¬æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»ºã€æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡ä¸åˆå§‹åŒ–ï¼Œæ ¸å¿ƒé…ç½®ï¼ˆè·¨åŸŸã€æ—¥å¿—ç­‰ï¼‰åŠåŸºç¡€å·¥å…·ç±»å®ç°ï¼Œæ„å»ºé¡¹ç›®å¼€å‘åŸºçŸ³ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/b85186f.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/reggie-business.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/reggie-business.html&quot;);" href="javascript:void(0);" alt="">ç‘å‰å¤–å–ï¼šæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å¼€å‘</a><div class="blog-slider__text">è¯¦è§£ç‘å‰å¤–å–åç«¯æ ¸å¿ƒä¸šåŠ¡å®ç°ï¼ŒåŒ…æ‹¬å‘˜å·¥ç®¡ç†ã€èœå“åˆ†ç±»ã€è®¢å•æµç¨‹ç­‰åŠŸèƒ½çš„æ¥å£ä¸é€»è¾‘å¼€å‘ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/reggie-business.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/reggie-mobile.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_155656.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/reggie-mobile.html&quot;);" href="javascript:void(0);" alt="">ç‘å‰å¤–å–ï¼šç§»åŠ¨ç«¯äº¤äº’ä¸ç”¨æˆ·ç«¯å®ç°</a><div class="blog-slider__text">è¯¦è§£ç‘å‰å¤–å–ç§»åŠ¨ç«¯ç”¨æˆ·ç«¯å¼€å‘ï¼ŒåŒ…æ‹¬æ‰‹æœºéªŒè¯ç ç™»å½•ã€åœ°å€ç°¿ç®¡ç†ã€èœå“ / å¥—é¤å±•ç¤ºã€è´­ç‰©è½¦å¢åˆ æ”¹æŸ¥ã€ç”¨æˆ·è®¢å•åˆ›å»ºä¸å†æ¥ä¸€å•åŠŸèƒ½ï¼ŒåŠå‰åç«¯æ¥å£äº¤äº’é€»è¾‘ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/reggie-mobile.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/bae4ff13.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112813.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/bae4ff13.html&quot;);" href="javascript:void(0);" alt="">Redis</a><div class="blog-slider__text">Redis ä½œä¸ºå†…å­˜ NoSQL æ•°æ®åº“çš„å®šä½ï¼Œæ”¯æŒ String/Hash ç­‰å¤šæ•°æ®ç»“æ„ï¼Œå…·å¤‡ RDB/AOF æŒä¹…åŒ–ä¸ä¸»ä»é«˜å¯ç”¨ï¼Œæ ¸å¿ƒç”¨äºç¼“å­˜ã€åˆ†å¸ƒå¼é”ï¼Œæ€§èƒ½é«˜æ•ˆã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/bae4ff13.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/c45d1e8a.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/c45d1e8a.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 1 ç«  è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°</a><div class="blog-slider__text">ä»‹ç»è®¡ç®—æœºç³»ç»Ÿçš„ç¡¬ä»¶ä¸è½¯ä»¶ç»„æˆï¼Œè¯¦è§£äº”å¤§åŠŸèƒ½éƒ¨ä»¶åŠæ€»çº¿å·¥ä½œæœºåˆ¶ï¼Œé˜è¿°æŒ‡ä»¤é›†ä½“ç³»ç»“æ„çš„æ ¸å¿ƒä½œç”¨ï¼Œå»ºç«‹è®¡ç®—æœºç³»ç»Ÿçš„æ•´ä½“è®¤çŸ¥ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/c45d1e8a.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/25e0fe54.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112618.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/25e0fe54.html&quot;);" href="javascript:void(0);" alt="">é¡¹ç›®æ¦‚è¿°ï¼šæ¶æ„ä¸éœ€æ±‚åˆ†æ</a><div class="blog-slider__text">å…¨é¢è§£æè‹ç©¹å¤–å–é¡¹ç›®çš„æ•´ä½“è§„åˆ’ï¼ŒåŒ…æ‹¬é¡¹ç›®èƒŒæ™¯ã€æ ¸å¿ƒéœ€æ±‚ã€æŠ€æœ¯æ ˆé€‰å‹ä¾æ®ï¼Œè¯¦è§£ç³»ç»Ÿæ¶æ„è®¾è®¡ä¸å¼€å‘è§„èŒƒï¼Œä¸ºé¡¹ç›®å¼€å‘æä¾›æ•´ä½“æŒ‡å¯¼ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/25e0fe54.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/77666db.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112758.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/77666db.html&quot;);" href="javascript:void(0);" alt="">ç‹é“è®¡ç»„pdf</a><div class="blog-slider__text">è®¡ç®—æœºç»„æˆåŸç†</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/77666db.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/833e46bb.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112650.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/833e46bb.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 2 ç«  è¿›ç¨‹ä¸çº¿ç¨‹ï¼šå¹¶å‘ç®¡ç†æ ¸å¿ƒ</a><div class="blog-slider__text">è®²è§£è¿›ç¨‹ä¸çº¿ç¨‹çš„å®šä¹‰ã€çŠ¶æ€è½¬æ¢åŠæ§åˆ¶é€»è¾‘ï¼Œåˆ†æè¿›ç¨‹è°ƒåº¦ç­–ç•¥ï¼Œé˜è¿°è¿›ç¨‹åŒæ­¥äº’æ–¥ï¼ˆPV æ“ä½œï¼‰ä¸æ­»é”çš„å¤„ç†æœºåˆ¶ï¼Œæ˜¯æ“ä½œç³»ç»Ÿå¹¶å‘ç®¡ç†çš„æ ¸å¿ƒã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/833e46bb.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/169339cb.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112844.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/169339cb.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 5 ç«  è¾“å…¥è¾“å‡ºç®¡ç†ï¼šè®¾å¤‡ååŒä¸ä¼˜åŒ–</a><div class="blog-slider__text">è¯¦è§£I/Oè®¾å¤‡åˆ†ç±»ä¸æ§åˆ¶æ–¹å¼ï¼ˆç¨‹åºç›´æ¥æ§åˆ¶/DMA/é€šé“ï¼‰ï¼Œåˆ†æç£ç›˜ç»“æ„ä¸è°ƒåº¦ç­–ç•¥ï¼Œä»‹ç»SPOOLingç­‰I/Oä¼˜åŒ–æŠ€æœ¯ï¼Œä¿éšœè®¾å¤‡ä¸CPUã€å†…å­˜çš„é«˜æ•ˆååŒã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/169339cb.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/790dfc8c.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/790dfc8c.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 4 ç«  æ–‡ä»¶ç®¡ç†ï¼šå­˜å‚¨ä¸è®¿é—®æœºåˆ¶</a><div class="blog-slider__text">ä»‹ç»æ–‡ä»¶çš„é€»è¾‘ä¸ç‰©ç†ç»“æ„ï¼Œè®²è§£ç›®å½•ç®¡ç†ï¼ˆæŒ‰åå­˜å–ï¼‰ã€ç´¢å¼•èŠ‚ç‚¹åŠŸèƒ½åŠå¤–å­˜ç©ºé—²ç©ºé—´åˆ†é…ç­–ç•¥ï¼Œå®ç°æ–‡ä»¶çš„å®‰å…¨å­˜å‚¨ä¸é«˜æ•ˆå…±äº«ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/790dfc8c.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/ce20e5e9.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/ce20e5e9.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 3 ç«  å†…å­˜ç®¡ç†ï¼šåœ°å€æ˜ å°„ä¸è™šæ‹Ÿå†…å­˜</a><div class="blog-slider__text">è¦†ç›–å†…å­˜åˆ†é…æ–¹å¼ï¼ˆè¿ç»­/åˆ†é¡µ/åˆ†æ®µï¼‰ä¸åœ°å€è½¬æ¢æœºåˆ¶ï¼Œè¯¦è§£è™šæ‹Ÿå†…å­˜æŠ€æœ¯ã€è¯·æ±‚åˆ†é¡µæµç¨‹åŠé¡µé¢ç½®æ¢ç­–ç•¥ï¼Œè§£å†³å¤šé“ç¨‹åºä¸‹å†…å­˜åˆ©ç”¨ç‡ä¸åœ°å€æ˜ å°„é—®é¢˜ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/ce20e5e9.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/b328aa63.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/b328aa63.html&quot;);" href="javascript:void(0);" alt="">ç¬¬ 1 ç«  æ“ä½œç³»ç»Ÿæ¦‚è¿°ï¼šè®¡ç®—æœºç³»ç»ŸåŸºç¡€</a><div class="blog-slider__text">é˜è¿°æ“ä½œç³»ç»Ÿçš„å®šä¹‰ä¸æ ¸å¿ƒåŠŸèƒ½ï¼Œè¯¦è§£å››å¤§ç‰¹å¾ï¼ˆå¹¶å‘ / å…±äº« / è™šæ‹Ÿ / å¼‚æ­¥ï¼‰ã€å¤„ç†å™¨è¿è¡Œæ¨¡å¼åŠç³»ç»Ÿç»“æ„åˆ†ç±»ï¼Œä»‹ç» OS å¼•å¯¼æµç¨‹ï¼Œå¥ å®šæ“ä½œç³»ç»Ÿè®¤çŸ¥åŸºç¡€ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/b328aa63.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/79666db.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112938.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/79666db.html&quot;);" href="javascript:void(0);" alt="">æ•°æ®ç»“æ„</a><div class="blog-slider__text">æ•°æ®ç»“æ„çš„æ ¸å¿ƒæ˜¯é«˜æ•ˆç»„ç»‡æ•°æ®ï¼ŒåŒºåˆ†é€»è¾‘ç»“æ„ï¼ˆçº¿æ€§ / éçº¿æ€§ï¼‰ä¸ç‰©ç†ç»“æ„ï¼ˆé¡ºåº / é“¾å¼ï¼‰ï¼Œè¦†ç›–æ•°ç»„ã€æ ‘ã€å›¾ç­‰æ ¸å¿ƒç±»å‹ï¼Œä¸ºä¼˜åŒ–ç®—æ³•æ•ˆç‡ã€æ”¯æ’‘å·¥ç¨‹åº”ç”¨å¥ å®šåŸºç¡€ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/79666db.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/reggie-overview.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2024_1123_160146.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-09-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/reggie-overview.html&quot;);" href="javascript:void(0);" alt="">ç‘å‰å¤–å–ï¼šé¡¹ç›®æ¦‚è¿°ä¸æ•´ä½“æ¶æ„</a><div class="blog-slider__text">å…¨é¢è§£æç‘å‰å¤–å–é¡¹ç›®èƒŒæ™¯ã€æŠ€æœ¯é€‰å‹ã€æ•´ä½“æ¶æ„è®¾è®¡åŠæ ¸å¿ƒä¸šåŠ¡æµç¨‹ï¼Œå»ºç«‹é¡¹ç›®å…¨å±€è®¤çŸ¥ã€‚</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/reggie-overview.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;post/b8b0eacd.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://obsidian-1322827540.cos.ap-guangzhou.myqcloud.com/img/Screenshot_2025_0314_112938.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;post/b8b0eacd.html&quot;);" href="javascript:void(0);" alt="">javaåŸºç¡€</a><div class="blog-slider__text">JavaåŸºç¡€</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;post/b8b0eacd.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '1s');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>